#!/usr/bin/env sh

# =============================================================================
# Pre-commit Hook for X.com Enhanced Gallery
# =============================================================================
# 커밋 전 코드 품질 검사로 안정성을 보장합니다.
# =============================================================================

echo "🔍 커밋 전 검증 시작..."

# TypeScript 타입 체크
echo "📋 TypeScript 타입 체크 실행 중..."
npm run typecheck || {
  echo "❌ 타입 체크 실패"
  echo "💡 TypeScript 오류를 수정한 후 다시 시도해주세요."
  exit 1
}

# 스테이징된 파일 린트
echo "🧹 스테이징된 파일 린트 중..."
npx lint-staged || {
  echo "❌ 린트 실패"
  echo "💡 코드 스타일 오류를 수정한 후 다시 시도해주세요."
  exit 1
}

echo "✅ 커밋 전 검증 완료!"

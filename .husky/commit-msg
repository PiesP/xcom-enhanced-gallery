#!/usr/bin/env sh

# Validate commit message with commitlint
# Skip in CI (handled by workflow commitlint job)
if [ "$CI" = "true" ]; then
  echo "â­ï¸  Commit-msg: Skipping in CI."
  exit 0
fi

echo "ğŸ“ Validating commit message..."

npx --no-install commitlint --edit "$1" --config commitlint.config.cjs || {
  echo "âŒ Commit message validation failed"
  echo "ğŸ’¡ Use format: type(scope): description"
  exit 1
}

echo "âœ… Commit message validation passed"

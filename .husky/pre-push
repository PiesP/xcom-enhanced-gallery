#!/usr/bin/env sh

# Pre-push: ensure types and tests are good before pushing
echo "ğŸ§ª Pre-push: typecheck + tests"

npm run typecheck || {
  echo "âŒ Typecheck failed"
  exit 1
}

# ê¸°ë³¸ì ìœ¼ë¡œ ë¦¬íŒ©í„°ë§ í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ì œì™¸ (í™˜ê²½ì— ë‚¨ì€ í† ê¸€ í”Œë˜ê·¸ ë¬´ì‹œ)
VITEST_INCLUDE_REF_TESTS=0 npm run test || {
  echo "âŒ Tests failed"
  exit 1
}

echo "âœ… Pre-push checks passed"

# TDD ë¦¬íŒ©í† ë§ ì™„ë£Œ Phase ê¸°ë¡ (ìš”ì•½)

> **ëª©ì **: ì™„ë£Œëœ Phaseì˜ í•µì‹¬ ìš”ì•½ **ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-27 | **í™œì„±
> ê³„íš**: `docs/TDD_REFACTORING_PLAN.md`

---

## ğŸ¯ ìµœê·¼ ì™„ë£Œ Phase (203.1-186)

### Phase 203.1 âœ… (2025-10-27)

**ë¹Œë“œ ì„±ëŠ¥ ìµœì í™” - ë³‘ë ¬í™” ë° ë©€í‹°ì½”ì–´ í™œìš©**

#### ì™„ë£Œ í•­ëª©

| í•­ëª©                    | ê²°ê³¼          | ìƒì„¸                                   |
| ----------------------- | ------------- | -------------------------------------- |
| ì‹œìŠ¤í…œ ë¶„ì„             | âœ… ì™„ë£Œ       | CPU 22 threads, ë©”ëª¨ë¦¬ 28GB available  |
| npm-run-all ì„¤ì¹˜        | âœ… ì™„ë£Œ       | ë³‘ë ¬ ì‹¤í–‰ ë„êµ¬ ì¶”ê°€ (40 packages)      |
| validate:quality        | âœ… ìƒì„±       | typecheck + lint + lint:css ë³‘ë ¬ ì‹¤í–‰  |
| validate:deps           | âœ… ìƒì„±       | deps:check â†’ deps:graph ìˆœì°¨ ì‹¤í–‰      |
| validate:tests          | âœ… ìƒì„±       | test:browser + e2e:smoke ë³‘ë ¬ ì‹¤í–‰     |
| validate:build:parallel | âœ… ìƒì„±       | 6GB ë©”ëª¨ë¦¬ ì œí•œ + 3ë‹¨ê³„ ë³‘ë ¬í™”         |
| ì„±ëŠ¥ ê°œì„                | âœ… 14.7% í–¥ìƒ | ìˆœì°¨ 49.5ì´ˆ â†’ ë³‘ë ¬ 42.2ì´ˆ (7.3ì´ˆ ë‹¨ì¶•) |
| ë²ˆë“¤ í¬ê¸°               | âœ… 340.54 KB  | â‰¤345 KB ìœ ì§€                           |

#### ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ë¶„ì„

**í•˜ë“œì›¨ì–´ ìŠ¤í™**:

- CPU: AMD Ryzen AI 9 HX 370 (11 cores, 22 threads)
- ë©”ëª¨ë¦¬: 31GB total (28GB available)
- Node.js: v22.20.0 (heap ê¸°ë³¸ ì œí•œ 3GB)

**ë¬¸ì œ ì¸ì‹**:

- ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ëŠ” ì¶©ë¶„í•˜ë‚˜ ìˆœì°¨ ì‹¤í–‰ìœ¼ë¡œ ì¸í•œ ì‹œê°„ ë‚­ë¹„
- 22ê°œ ìŠ¤ë ˆë“œ ì¤‘ ëŒ€ë¶€ë¶„ì´ ìœ íœ´ ìƒíƒœ
- ë…ë¦½ì ì¸ ì‘ì—…(typecheck, lint, test)ì„ ìˆœì°¨ ì‹¤í–‰

#### ì†”ë£¨ì…˜

**ë³‘ë ¬í™” ì „ëµ** (npm-run-all í™œìš©):

1. **validate:quality** (ë³‘ë ¬ ì‹¤í–‰)

   ```json
   "validate:quality": "run-p typecheck lint lint:css"
   ```

   - typecheck, lint, lint:cssë¥¼ ë™ì‹œ ì‹¤í–‰
   - CPU ë©€í‹°ì½”ì–´ í™œìš©

2. **validate:deps** (ìˆœì°¨ ì‹¤í–‰)

   ```json
   "validate:deps": "run-s deps:check deps:graph"
   ```

   - deps:check â†’ deps:graph ìˆœì°¨ ì‹¤í–‰ (ì˜ì¡´ì„±)

3. **validate:tests** (ë³‘ë ¬ ì‹¤í–‰)

   ```json
   "validate:tests": "run-p test:browser e2e:smoke"
   ```

   - ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ì™€ E2E í…ŒìŠ¤íŠ¸ ë™ì‹œ ì‹¤í–‰

4. **validate:build:parallel** (í†µí•© + ë©”ëª¨ë¦¬ ìµœì í™”)

   ```json
   "validate:build:parallel": "NODE_OPTIONS='--max-old-space-size=6144' npm run validate:quality && npm run validate:deps && npm run validate:tests"
   ```

   - 6GB ë©”ëª¨ë¦¬ ì œí•œ (ì¶©ë¶„í•œ ì—¬ìœ )
   - deps:graph SVG ìƒì„± í¬í•¨

#### ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼

**ê¸°ì¡´ ìˆœì°¨ ë°©ì‹** (validate:build:local):

```
real    0m49.546s
user    1m15.403s
sys     0m23.194s
```

**ë³‘ë ¬ ë°©ì‹** (validate:build:parallel):

```
real    0m42.239s
user    1m25.639s
sys     0m25.266s
```

**ì„±ëŠ¥ í–¥ìƒ**:

- **ì‹¤í–‰ ì‹œê°„**: 49.5ì´ˆ â†’ 42.2ì´ˆ
- **ì‹œê°„ ì ˆì•½**: 7.3ì´ˆ
- **í–¥ìƒë¥ **: 14.7%
- **CPU í™œìš©**: user time ì¦ê°€ (ë³‘ë ¬ ì²˜ë¦¬ ì¦ê±°)

#### íš¨ê³¼

1. **ê°œë°œ ìƒì‚°ì„± í–¥ìƒ**
   - ë¹Œë“œ ê²€ì¦ ì‹œê°„ ë‹¨ì¶•
   - ë¹ ë¥¸ í”¼ë“œë°± ë£¨í”„

2. **ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ íš¨ìœ¨**
   - ë©€í‹°ì½”ì–´ CPU ì ê·¹ í™œìš©
   - ìœ íœ´ ë¦¬ì†ŒìŠ¤ ê°ì†Œ

3. **ë©”ëª¨ë¦¬ ì•ˆì •ì„± ìœ ì§€**
   - 6GB ì œí•œìœ¼ë¡œ OOM ë°©ì§€
   - 28GB ì—¬ìœ  ë©”ëª¨ë¦¬ë¡œ ì•ˆì „

4. **ê¸°ëŠ¥ í–¥ìƒ**
   - deps:graph SVG ìƒì„± í¬í•¨
   - ë¡œì»¬ì—ì„œë„ ì˜ì¡´ì„± ì‹œê°í™” ê°€ëŠ¥

#### ì˜ì¡´ì„±

**npm-run-all**: ë³‘ë ¬/ìˆœì°¨ ì‹¤í–‰ ê´€ë¦¬

- `run-p`: ë³‘ë ¬ ì‹¤í–‰ (parallel)
- `run-s`: ìˆœì°¨ ì‹¤í–‰ (sequential)

#### êµí›ˆ

1. **í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ ë¶„ì„ í•„ìˆ˜**
   - ì‹œìŠ¤í…œ ìŠ¤í™ í™•ì¸ í›„ ìµœì í™” ë°©í–¥ ê²°ì •
   - CPU/ë©”ëª¨ë¦¬ í™œìš©ë„ ì¸¡ì •

2. **ë³‘ë ¬í™” íŠ¸ë ˆì´ë“œì˜¤í”„ ê³ ë ¤**
   - ë³µì¡ë„ ì¦ê°€ vs ì„±ëŠ¥ í–¥ìƒ
   - ë…ë¦½ ì‘ì—…ë§Œ ë³‘ë ¬í™”

3. **ë²¤ì¹˜ë§ˆí¬ë¡œ ê²€ì¦**
   - ìµœì í™” ì „í›„ ì¸¡ì •
   - ì‹¤ì œ ê°œì„  íš¨ê³¼ í™•ì¸

---

### Phase 203 âœ… (2025-10-27)

**ë¡œì»¬ ë¹Œë“œ ë©”ëª¨ë¦¬ ìµœì í™” - OOM ë¬¸ì œ í•´ê²°**

#### ì™„ë£Œ í•­ëª©

| í•­ëª©                 | ê²°ê³¼          | ìƒì„¸                                  |
| -------------------- | ------------- | ------------------------------------- |
| ë¬¸ì œ ë¶„ì„            | âœ… ì™„ë£Œ       | validate:build ë©”ëª¨ë¦¬ ì†Œë¹„ í”„ë¡œíŒŒì¼ë§ |
| ì†”ë£¨ì…˜ ì„¤ê³„          | âœ… ì™„ë£Œ       | ë¡œì»¬/CI ê²€ì¦ ë¶„ë¦¬ ì „ëµ ìˆ˜ë¦½           |
| validate:build:local | âœ… ìƒì„±       | ê²½ëŸ‰ ë¡œì»¬ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸               |
| prebuild ìˆ˜ì •        | âœ… ì™„ë£Œ       | validate:build â†’ validate:build:local |
| test:browser ë©”ëª¨ë¦¬  | âœ… 4096MB     | NODE_OPTIONS ë©”ëª¨ë¦¬ ì œí•œ ì¶”ê°€         |
| ë¹Œë“œ ê²€ì¦            | âœ… ì •ìƒ       | dev + prod ë¹Œë“œ ì„±ê³µ, OOM ë¯¸ë°œìƒ      |
| E2E í…ŒìŠ¤íŠ¸           | âœ… 94/94 PASS | 31.6s ì™„ë£Œ                            |
| ë²ˆë“¤ í¬ê¸°            | âœ… 340.54 KB  | â‰¤345 KB (4.46 KB ì—¬ìœ )                |

#### ë¬¸ì œ ë¶„ì„

**ì¦ìƒ**: `npm run build` ì‹¤í–‰ ì‹œ OOM ì—ëŸ¬ ë°œìƒ

```
<--- Last few GCs --->
[85029:0x29ae6000] 319742 ms: Mark-Compact 3991.6 (4130.2) -> 3976.3 (4130.9) MB
FATAL ERROR: Ineffective mark-compacts near heap limit
Allocation failed - JavaScript heap out of memory
```

**ê·¼ë³¸ ì›ì¸**:

1. **validate:build ë¬´ê±°ìš´ í”„ë¡œì„¸ìŠ¤ ìˆœì°¨ ì‹¤í–‰**
   - typecheck + lint + deps:check + deps:graph (SVG) + codeql:check +
     test:browser + e2e:smoke + e2e:a11y
   - deps:graph SVG ìƒì„±: ~7ì´ˆ, ë©”ëª¨ë¦¬ ì§‘ì¤‘ ì‚¬ìš©
   - codeql:check: CodeQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±/ë¶„ì„, ë©”ëª¨ë¦¬ ì œí•œ ì—†ìŒ
   - test:browser: Chromium ì¸ìŠ¤í„´ìŠ¤, ë©”ëª¨ë¦¬ ì œí•œ ì—†ìŒ

2. **ë©”ëª¨ë¦¬ ëˆ„ì  ì••ë°•**
   - ê° í”„ë¡œì„¸ìŠ¤ê°€ 3-4GB ê°€ê¹Œì´ ì‚¬ìš©
   - ìˆœì°¨ ì‹¤í–‰ì´ì§€ë§Œ GC ì „ ë©”ëª¨ë¦¬ í•´ì œ ë¶ˆì¶©ë¶„
   - ëˆ„ì  ì••ë°•ìœ¼ë¡œ mark-compact ì‹¤íŒ¨ â†’ OOM

#### ì†”ë£¨ì…˜

**ì „ëµ**: ë¡œì»¬ ê°œë°œ í™˜ê²½ê³¼ CI ê²€ì¦ ë¶„ë¦¬

**ë¡œì»¬ ìµœì í™”**:

1. **validate:build:local ìŠ¤í¬ë¦½íŠ¸ ìƒì„±**

   ```json
   "validate:build:local": "npm run typecheck && npm run lint && npm run lint:css && npm run deps:check && npm run deps:json && npm run test:browser && npm run e2e:smoke"
   ```

   - ì œì™¸ í•­ëª©:
     - `codeql:check`: ë©”ëª¨ë¦¬ ì§‘ì¤‘, CIì—ì„œ ê²€ì¦
     - `deps:graph` (SVG): ë¡œì»¬ì—ì„œ ë¶ˆí•„ìš”, JSONë§Œìœ¼ë¡œ ê²€ì¦
     - `e2e:a11y`: ì¶”ê°€ ë¶€í•˜, CIì—ì„œ ê²€ì¦

2. **test:browser ë©”ëª¨ë¦¬ ì œí•œ ì¶”ê°€**

   ```json
   "test:browser": "NODE_OPTIONS='--max-old-space-size=4096' vitest --project browser run"
   ```

3. **prebuild ìˆ˜ì •**

   ```json
   "prebuild": "npm run validate:build:local"  // was: validate:build
   ```

**CI ìœ ì§€**:

- `validate:build`: ì „ì²´ ê²€ì¦ ìœ ì§€ (codeql + deps:graph SVG + e2e:a11y í¬í•¨)
- GitHub ActionsëŠ” ì¶©ë¶„í•œ ë©”ëª¨ë¦¬ ì œê³µ

#### ê²€ì¦ ê²°ê³¼

**ë¹Œë“œ ì„±ê³µ**:

```bash
âœ“ prebuild (validate:build:local)
  âœ“ typecheck: 0 errors
  âœ“ lint: 0 errors
  âœ“ lint:css: 0 errors
  âœ“ deps:check: 2 info (orphan ëª¨ë“ˆ, ë¹„ì°¨ë‹¨)
  âœ“ deps:json: 1.5s
  âœ“ test:browser: 111 passed (chromium)
  âœ“ e2e:smoke: 94 passed, 12 skipped, 31.6s
âœ“ vite build --mode development: 1.90s
âœ“ vite build --mode production: ì •ìƒ ì™„ë£Œ
âœ“ postbuild (validate-build.js): PASS
âœ“ ë²ˆë“¤ í¬ê¸°: 340.54 KB (â‰¤345 KB)
```

**ë©”ëª¨ë¦¬ ì•ˆì •ì„±**:

- ì „ì²´ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ OOM ë¯¸ë°œìƒ
- test:browser 4096MB ì œí•œ ë‚´ ì•ˆì • ì‹¤í–‰
- E2E í…ŒìŠ¤íŠ¸ ì •ìƒ ì™„ë£Œ

#### íš¨ê³¼

1. **ê°œë°œ ìƒì‚°ì„± ë³µêµ¬**
   - ë¡œì»¬ ë¹Œë“œ ì •ìƒ ì‘ë™
   - ë¹Œë“œ ì‹¤íŒ¨ ì—†ì´ ê°œë°œ ê°€ëŠ¥

2. **ê²€ì¦ í’ˆì§ˆ ìœ ì§€**
   - í•µì‹¬ ì²´í¬(íƒ€ì…/ë¦°íŠ¸/í…ŒìŠ¤íŠ¸) ì—¬ì „íˆ ì‹¤í–‰
   - CIì—ì„œ ì „ì²´ ê²€ì¦ ìˆ˜í–‰

3. **ë¦¬ì†ŒìŠ¤ íš¨ìœ¨**
   - ë¡œì»¬: í•„ìš”í•œ ê²€ì¦ë§Œ ì‹¤í–‰
   - CI: í¬ê´„ì  ê²€ì¦ ìœ ì§€

#### êµí›ˆ

1. **í™˜ê²½ë³„ ìµœì í™” í•„ìš”**
   - ë¡œì»¬ ê°œë°œ í™˜ê²½ != CI í™˜ê²½
   - ë¦¬ì†ŒìŠ¤ ì œì•½ì— ë§ëŠ” ì „ëµ ìˆ˜ë¦½

2. **ë©”ëª¨ë¦¬ í”„ë¡œíŒŒì¼ë§ ì¤‘ìš”**
   - ê° í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ íŒŒì•…
   - ìˆœì°¨ ì‹¤í–‰ë„ ëˆ„ì  ì••ë°• ë°œìƒ ê°€ëŠ¥

3. **ê²€ì¦ ë ˆë²¨ ë¶„ë¦¬**
   - ë¡œì»¬: ì‹ ì†í•œ í”¼ë“œë°± (fast validation)
   - CI: í¬ê´„ì  ê²€ì¦ (comprehensive validation)

---

### Phase 202 âœ… (2025-10-27)

**Deprecated API Cleanup - service-harness ì œê±°**

#### ì™„ë£Œ í•­ëª©

| í•­ëª©                 | ê²°ê³¼            | ìƒì„¸                        |
| -------------------- | --------------- | --------------------------- |
| service-harness.ts   | âœ… ì œê±°         | ë‹¨ìˆœ ì¬export íŒŒì¼          |
| harness.ts           | âœ… ì •ë¦¬         | deprecated í•¨ìˆ˜/í´ë˜ìŠ¤ ì œê±° |
| container/index.ts   | âœ… ì—…ë°ì´íŠ¸     | exports ì •ë¦¬                |
| contract test        | âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ | createTestHarness() ì‚¬ìš©    |
| Phase 202 RED í…ŒìŠ¤íŠ¸ | âœ… ìƒì„±         | deprecated API íƒì§€ í…ŒìŠ¤íŠ¸  |
| íƒ€ì… ì²´í¬            | âœ… 0 errors     | ëª¨ë“  íŒŒì¼ íƒ€ì… ì•ˆì „         |
| í…ŒìŠ¤íŠ¸               | âœ… 110/110      | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼       |
| ë¹Œë“œ                 | âœ… 340.54 KB    | â‰¤345 KB ë²”ìœ„ ë‚´             |

#### ì œê±° ë‚´ì—­

**1. src/shared/container/service-harness.ts (ì „ì²´ ì‚­ì œ)**

- ë‹¨ìˆœ ì¬export: `export * from './harness'`
- ëª©ì : êµ¬ë²„ì „ í˜¸í™˜ì„± (deprecated ë§ˆì»¤ í¬í•¨)
- ì‚¬ìš©ì²˜ ì—†ìŒ í™•ì¸ í›„ ì œê±°

**2. src/shared/container/harness.ts (ì¼ë¶€ ì‚­ì œ)**

ì œê±°ëœ deprecated API:

```typescript
// âŒ ì œê±°
export const createServiceHarness = createTestHarness;
export const ServiceHarness = TestHarness;
```

ìœ ì§€ëœ canonical API:

```typescript
// âœ… ìœ ì§€
export function createTestHarness<T>(/* ... */): TestHarness<T>;
export class TestHarness<T> {
  /* ... */
}
```

**3. src/shared/container/index.ts**

```typescript
// âŒ ì œê±°
export { createServiceHarness, ServiceHarness } from './harness';

// âœ… ìœ ì§€
export { createTestHarness, TestHarness } from './harness';
```

**4. test/unit/shared/container/service-harness.contract.test.ts**

```typescript
// Before
import { createServiceHarness } from '../../../../src/shared/container/service-harness';

// After
import { createTestHarness } from '../harness';
```

#### ê²€ì¦

**íƒ€ì… ì²´í¬**: 0 errors âœ…

```bash
$ npm run typecheck
Running type check with tsgo...
âœ“ Type check completed successfully
```

**ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: 110/110 PASS âœ…

```bash
$ npm test
âœ“ test/unit/shared/container/service-harness.contract.test.ts (4)
âœ“ ... (106 more tests)
```

**Phase 202 RED í…ŒìŠ¤íŠ¸**: ìƒì„± âœ…

```typescript
// test/unit/refactoring/phase-202-deprecated-cleanup.test.ts
describe('Phase 202: Deprecated API Cleanup', () => {
  it('should not have service-harness.ts file', async () => {
    // íŒŒì¼ ì¡´ì¬ í™•ì¸
  });

  it('should not export deprecated APIs from harness.ts', () => {
    // export í™•ì¸
  });

  it('should not have service-harness imports', () => {
    // import í™•ì¸
  });
});
```

#### êµí›ˆ

1. **ì˜ì¡´ì„± ë¶„ì„ ì£¼ì˜**
   - grep/semantic searchëŠ” ë¶ˆì™„ì „
   - íƒ€ì… ì²´í¬ë¡œ ì‹¤ì œ ì‚¬ìš© í™•ì¸ í•„ìˆ˜

2. **ì ì§„ì  ì œê±°**
   - íŒŒì¼ ì œê±° â†’ ì¦‰ì‹œ íƒ€ì… ì²´í¬
   - ë¬¸ì œ ë°œê²¬ ì‹œ ì¦‰ì‹œ ë³µêµ¬

3. **í…ŒìŠ¤íŠ¸ ìš°ì„ **
   - RED í…ŒìŠ¤íŠ¸ ë¨¼ì € ì‘ì„±
   - ë¦¬íŒ©í† ë§ í›„ GREEN í™•ì¸

---

### Phase 199 âœ… (2025-10-27)

### Phase 199 âœ… (2025-10-27)

**Settings ë“œë¡­ë‹¤ìš´ í´ë¦­ ë™ì‘ ë³µêµ¬ (ê·¼ë³¸ ì›ì¸ ìˆ˜ì •)**

#### ì™„ë£Œ í•­ëª©

| í•­ëª©        | ê²°ê³¼                       | ìƒì„¸                                                   |
| ----------- | -------------------------- | ------------------------------------------------------ |
| ë¡œê·¸ ë¶„ì„   | âœ… ê·¼ë³¸ ì›ì¸ ê·œëª…          | PC-only ì •ì±…ì´ SELECT pointer ì´ë²¤íŠ¸ ì°¨ë‹¨              |
| ì†”ë£¨ì…˜ ê°œë°œ | âœ… form ìš”ì†Œ ì˜ˆì™¸ ì²˜ë¦¬     | pointer ì´ë²¤íŠ¸ë§Œ form ìš”ì†Œì—ì„œ í—ˆìš©, touchëŠ” ì „ë©´ ì°¨ë‹¨ |
| ì½”ë“œ ìˆ˜ì •   | âœ… ì™„ë£Œ                    | events.ts blockTouchAndPointerEvents() ê°œì„             |
| í…ŒìŠ¤íŠ¸ ì¶”ê°€ | âœ… ì™„ë£Œ                    | events-coverage.test.ts Phase 199 ìŠ¤ìœ„íŠ¸ ì¶”ê°€          |
| ê¸°ëŠ¥ ê²€ì¦   | âœ… ëª¨ë‘ ì •ìƒ               | ë“œë¡­ë‹¤ìš´ ì˜µì…˜ í‘œì‹œ, ì„ íƒ ê°€ëŠ¥, ì„¤ì • ì ìš©               |
| ë¹Œë“œ ê²€ì¦   | âœ… 340.54 KB               | â‰¤345 KB ë²”ìœ„ ë‚´ ìœ ì§€                                   |
| í…ŒìŠ¤íŠ¸      | âœ… ë‹¨ìœ„ 110/110, E2E 94/94 | ì ‘ê·¼ì„± 34/34, ëª¨ë‘ GREEN                               |

#### ì˜ì‚¬ê²°ì •

**ë¬¸ì œ**: ì„¤ì • íŒ¨ë„ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ í´ë¦­ ì‹œ ì˜µì…˜ ëª©ë¡ì´ í‘œì‹œë˜ì§€ ì•ŠìŒ

**ê·¼ë³¸ ì›ì¸**:

- PC-only ì •ì±…ì˜ `blockTouchAndPointerEvents()` í•¨ìˆ˜ê°€ ëª¨ë“  pointer ì´ë²¤íŠ¸ ì¼ê´„
  ì°¨ë‹¨
- SELECT, INPUT ë“± form ìš”ì†ŒëŠ” pointer ì´ë²¤íŠ¸ë¥¼ í†µí•´ ë¸Œë¼ìš°ì € ë„¤ì´í‹°ë¸Œ ë™ì‘ ìˆ˜í–‰
- ë¡œê·¸ ë¶„ì„: 03:27:24.553ë¶€í„° SELECTì˜ pointerdown ì´ë²¤íŠ¸ê°€ ë°˜ë³µ ì°¨ë‹¨ í™•ì¸

**ì†”ë£¨ì…˜ ê²€í† **:

1. âŒ pointer-events CSS ì¡°ê±´ë¶€ ì ìš© - ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ìš°íšŒ ë¶ˆê°€
2. âŒ í´ë˜ìŠ¤ í† ê¸€ - íƒ€ì´ë° ë³µì¡ë„, ìƒíƒœ ë™ê¸°í™” ë¬¸ì œ
3. âœ… **form ìš”ì†Œ ì˜ˆì™¸ ì²˜ë¦¬** - ìµœì†Œ ë³€ê²½, ëª…í™•í•œ ì˜ë„

**ìµœì  ì†”ë£¨ì…˜**:

- Touch ì´ë²¤íŠ¸: ëª¨ë“  ìš”ì†Œì—ì„œ strict ì°¨ë‹¨ (PC-only ì •ì±… ì¤€ìˆ˜)
- Pointer ì´ë²¤íŠ¸: form ìš”ì†Œ(SELECT, INPUT, TEXTAREA, BUTTON, OPTION)ì—ì„œë§Œ í—ˆìš©
- ì¼ë°˜ ìš”ì†Œ: pointer ì´ë²¤íŠ¸ë„ ì°¨ë‹¨

**ìˆ˜í–‰ ê²°ê³¼**: ë“œë¡­ë‹¤ìš´ì´ ì •ìƒ ì‘ë™í•˜ë©° PC-only ì •ì±…ë„ ìœ ì§€ë¨ âœ…

---

### Phase 198 âœ… (2025-10-27)

**Settings ë“œë¡­ë‹¤ìš´ ì˜µì…˜ í‘œì‹œ ë¬¸ì œ í•´ê²° (CSS ë ˆì´ì–´)**

#### ì™„ë£Œ í•­ëª©

| í•­ëª©        | ê²°ê³¼                 | ìƒì„¸                                          |
| ----------- | -------------------- | --------------------------------------------- |
| ë¬¸ì œ ë¶„ì„   | âœ… ê·¼ë³¸ ì›ì¸ ê·œëª…    | CSS Modules ìŠ¤ì½”í•‘ ì œì•½, appearance:none ì œì•½ |
| ì†”ë£¨ì…˜ ê°œë°œ | âœ… ë¸Œë¼ìš°ì € ë„¤ì´í‹°ë¸Œ | appearance:none ì œê±°, ë„¤ì´í‹°ë¸Œ ë“œë¡­ë‹¤ìš´ ì‚¬ìš©  |
| CSS ìˆ˜ì •    | âœ… ì™„ë£Œ              | SettingsControls.module.css ìˆ˜ì •              |
| ê¸°ëŠ¥ ê²€ì¦   | âœ… ëª¨ë‘ ì •ìƒ         | ë“œë¡­ë‹¤ìš´ ì˜µì…˜ í‘œì‹œ, ì„ íƒ ê°€ëŠ¥, ì„¤ì • ì ìš©      |
| ë¹Œë“œ ê²€ì¦   | âœ… 340.16 KB         | â‰¤345 KB ë²”ìœ„ ë‚´ ìœ ì§€                          |
| í…ŒìŠ¤íŠ¸      | âœ… E2E 94/94         | ì ‘ê·¼ì„± 34/34, ëª¨ë‘ GREEN                      |

#### ì˜ì‚¬ê²°ì •

**ë¬¸ì œ**: ì„¤ì • íŒ¨ë„ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ í´ë¦­ ì‹œ ì˜µì…˜ ëª©ë¡ì´ í‘œì‹œë˜ì§€ ì•ŠìŒ

**ê·¼ë³¸ ì›ì¸**:

- `appearance: none` CSS ì†ì„±ì´ ì„¤ì •ë¨
- CSS Modules ìŠ¤ì½”í•‘ìœ¼ë¡œ `.select option` ì„ íƒì ë¹„ì‘ë™
- ë¸Œë¼ìš°ì € ë„¤ì´í‹°ë¸Œ ë Œë”ë§ ì˜ì—­ ì™¸ ìŠ¤íƒ€ì¼ ë¯¸ì ìš©

**ìµœì  ì†”ë£¨ì…˜**: `appearance: none` ì œê±° + ë¸Œë¼ìš°ì € ë„¤ì´í‹°ë¸Œ ë“œë¡­ë‹¤ìš´ ì‚¬ìš©

**ìˆ˜í–‰ ê²°ê³¼**: ëª¨ë“  ì˜µì…˜ì´ ì •ìƒ ë Œë”ë§ë¨ âœ…

**ì°¸ê³ **: Phase 199ì—ì„œ ê·¼ë³¸ ì›ì¸(PC-only ì •ì±… ì´ë²¤íŠ¸ ì°¨ë‹¨) í•´ê²°

---

### Phase 197 âœ… (2025-10-27)

**E2E í…ŒìŠ¤íŠ¸ ì•ˆì •í™” - Playwright ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ìˆ˜ì •**

#### ì™„ë£Œ í•­ëª©

| í•­ëª©                  | ê²°ê³¼          | ìƒì„¸                                     |
| --------------------- | ------------- | ---------------------------------------- |
| focus-tracking ìˆ˜ì •   | âœ… 247ms PASS | HarnessRenderer ê°œì„ , DOM ìƒì„± ë¡œì§ ì¶”ê°€ |
| toolbar-headless ìˆ˜ì • | âœ… 412ms PASS | data-selected ì†ì„± ì§ì ‘ ì¡°ì‘ ì‹œë®¬ë ˆì´ì…˜  |
| E2E í…ŒìŠ¤íŠ¸            | âœ… 94/94 PASS | ëª¨ë“  ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ í†µê³¼                  |
| ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸         | âœ… 34/34 PASS | WCAG 2.1 Level AA ê²€ì¦ ì™„ë£Œ              |
| ë¹Œë“œ                  | âœ… 340.26 KB  | â‰¤346 KB ë²”ìœ„ ë‚´ ìœ ì§€                     |

#### ì˜ì‚¬ê²°ì •

**ë¬¸ì œ**: Playwright ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ 2ê°œ ì‹¤íŒ¨

- focus-tracking.spec.ts: timeout (HarnessRenderer ë¯¸ì‘ë™)
- toolbar-headless.spec.ts: fitMode ì˜¤ë¥˜ (data-selected ë¯¸ì—…ë°ì´íŠ¸)

**í•´ê²°ì±…**: Harness ê°œì„  ë° ì‹œë®¬ë ˆì´ì…˜ ê°•í™”

**ìˆ˜í–‰ ê²°ê³¼**: ì „ì²´ E2E í…ŒìŠ¤íŠ¸ ì•ˆì •í™” âœ…

---

### Phase 196 âœ… (2025-10-27)

**Gallery Hooks ì½”ë“œ í’ˆì§ˆ í‰ê°€ ë° ì¬ì¡°ì •**

#### ì™„ë£Œ í•­ëª©

| í•­ëª©           | ê²°ê³¼         | ìƒì„¸                                                         |
| -------------- | ------------ | ------------------------------------------------------------ |
| ì½”ë“œ ì •ì  ë¶„ì„ | âœ… ì™„ë£Œ      | useGalleryFocusTracker (516ì¤„), useGalleryItemScroll (438ì¤„) |
| íƒ€ì… ì²´í¬      | âœ… 0 errors  | ëª¨ë“  íŒŒì¼ í†µê³¼                                               |
| ë¦°íŠ¸ ê²€ì¦      | âœ… 0 errors  | ESLint + Prettier ëª¨ë‘ í†µê³¼                                  |
| í…ŒìŠ¤íŠ¸         | âœ… 9/9 GREEN | ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ì „ë¶€ í†µê³¼                                      |
| ë¹Œë“œ           | âœ… 341 KB    | â‰¤346 KB ë²”ìœ„ ë‚´ ìœ ì§€                                         |

#### ì˜ì‚¬ê²°ì •

**ì›ë˜ ê³„íš**: Gallery Hooks 3-íŒŒì¼ ë¶„í•  (Option B)

**ì¬í‰ê°€ ê²°ë¡ **: Service ê³„ì¸µì´ ì´ë¯¸ ëª…í™•í•˜ê²Œ ë¶„ë¦¬ë¨ (itemCache,
focusTimerManager, observerManager, applicator, stateManager), createEffectê°€
ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬ë¨, ë¶ˆí•„ìš”í•œ ë¶„í• ì€ ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§

**ìµœì¢… ê²°ì •**: **Option D (ê²€ì¦ê³¼ ìƒíƒœ ê¸°ë¡)** - í˜„ì¬ ì½”ë“œ í’ˆì§ˆ ì–‘í˜¸, ì¶”ê°€ ë¶„í• 
ì—†ìŒ, í–¥í›„ Phase (197+)ì—ì„œ í•„ìš”ì‹œ ê°œì„  ê³„íš

#### ìƒíƒœ ê¸°ë¡

**ë¬¸ì„œ ì‘ì„±**: `docs/temp/PHASE_196_EVALUATION.md` (ìƒì„¸ í‰ê°€ ë³´ê³ ì„œ),
`docs/TDD_REFACTORING_PLAN.md` (ê³„íš ì—…ë°ì´íŠ¸)

**ì°¨ê¸° Phase ê¶Œì¥**: Phase 197: E2E í…ŒìŠ¤íŠ¸ ì•ˆì •í™” (í˜„ì¬ 2ê°œ fail), Phase 198:
Settings Components ë¦¬íŒ©í† ë§ (ì„ íƒ)

---

### Phase 195 âœ… (2025-10-27)

**í”„ë¡œì íŠ¸ ì†ŒìŠ¤ ì½”ë“œ ì •ë¦¬ ë° ë¬¸ì„œ ìµœì í™”**

#### ì™„ë£Œ í•­ëª©

| í•­ëª©           | ê²°ê³¼                         | ìƒì„¸                                 |
| -------------- | ---------------------------- | ------------------------------------ |
| ë°±ì—… íŒŒì¼ ì •ë¦¬ | âœ… 6ê°œ íŒŒì¼ ì œê±°             | useGalleryItemScroll.backup.ts ë“±    |
| ìƒíƒœ ë¨¸ì‹  êµ¬ì¡° | âœ… machines/ í´ë” ì‹ ê·œ ìƒì„±  | download/navigation/settings/toast   |
| ì‹ í˜¸ ë°°ëŸ´      | âœ… signals/index.ts ìƒì„±     | ì¤‘ì•™í™”ëœ export                      |
| ë¹Œë“œ ì•ˆì •í™”    | âœ… 341KB (5KB ì´ˆê³¼, ë²”ìœ„ ë‚´) | typecheck/lint/test:smoke ëª¨ë‘ GREEN |
| ê²€ì¦ ì™„ë£Œ      | âœ… E2E 89/97, A11y 34/34     | pre-existing 2ê°œ ì œì™¸ ì‹œ ì •ìƒ        |

#### 4ë‹¨ê³„ ì§„í–‰ ìƒí™©

1. **ë°±ì—… íŒŒì¼ ì œê±°** âœ…
   - src/features/gallery/hooks/useGalleryItemScroll.backup.ts
   - src/shared/utils/patterns/url-patterns.ts.backup
   - docs/CODING_GUIDELINES.md.backup (3ê°œ)
   - docs/temp/performance.css.backup

2. **ìƒíƒœ ë¨¸ì‹  êµ¬ì¡° ì •ê·œí™”** âœ…
   - src/shared/state/machines/ ì‹ ê·œ í´ë”
   - 4ê°œ state machine ì´ë™
   - index.ts ë°°ëŸ´ export

3. **ì‹ í˜¸ ë°°ëŸ´ ìƒì„±** âœ…
   - src/shared/state/signals/index.ts

4. **ê²€ì¦ ì™„ë£Œ** âœ…
   - npm run typecheck: 0 errors
   - npm run lint: í†µê³¼
   - npm run test:smoke: 9/9
   - npm run build: 341KB

**ê²°ê³¼**: ğŸš€ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ, ëª¨ë“  ì§€í‘œ ì •ìƒ

---

### Phase 190 âœ… (2025-10-26)

**ì¢…í•© í…ŒìŠ¤íŠ¸ ê²€ì¦ ë° ë¹Œë“œ ì •ìƒí™”**

| í•­ëª©              | ê²°ê³¼                      |
| ----------------- | ------------------------- |
| Playwright ì˜ì¡´ì„± | âœ… WSL í™˜ê²½ ì„¤ì • ì™„ë£Œ     |
| npm run build     | âœ… ì„±ê³µ (ëª¨ë“  íŒŒì´í”„ë¼ì¸) |
| í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸     | âœ… 1600+ í…ŒìŠ¤íŠ¸ GREEN     |
| ë¹Œë“œ í¬ê¸°         | âœ… 339.55 KB (ì•ˆì •ì )     |
| íƒ€ì…/ë¦°íŠ¸/ì˜ì¡´ì„±  | âœ… ëª¨ë‘ ê²€ì¦ í†µê³¼         |
| E2E/ì ‘ê·¼ì„±        | âœ… 89/97, 34/34 í†µê³¼      |

**ìƒíƒœ**: ğŸš€ í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ

---

### Phase 189 âœ… (2025-10-26)

**happy-dom ë§ˆì´ê·¸ë ˆì´ì…˜ ë° ë¬¸ì„œ ìµœì í™”**

| í•­ëª©           | ê²°ê³¼                 |
| -------------- | -------------------- |
| í™˜ê²½ ì „í™˜      | âœ… JSDOM â†’ happy-dom |
| í…ŒìŠ¤íŠ¸ í˜¸í™˜ì„±  | âœ… 100% (1600+)      |
| ì„±ëŠ¥ ê°œì„       | âœ… ~40% í–¥ìƒ         |
| ë¬¸ì„œ ìµœì í™”    | âœ… 92% ê°ì†Œ (ì¶•ì•½)   |
| ì„ì‹œ íŒŒì¼ ì •ë¦¬ | âœ… ì™„ë£Œ              |

---

### Phase 188 âœ… (2025-10-25)

**test/unit 2ë‹¨ê³„ ì •ë¦¬**

- âœ… ë£¨íŠ¸ ë””ë ‰í„°ë¦¬: 17ê°œ â†’ 10ê°œ (41% ê°ì†Œ)
- âœ… ì¤‘ë³µ í…ŒìŠ¤íŠ¸ ì œê±°
- âœ… ì •ì±… í…ŒìŠ¤íŠ¸ ì¤‘ì•™í™”

---

### Phase 187 âœ… (2025-10-25)

**test/unit 1ë‹¨ê³„ ì •ë¦¬**

- âœ… ë””ë ‰í„°ë¦¬ 26ê°œ â†’ 18ê°œ (31% ê°ì†Œ)
- âœ… 3ê³„ì¸µ êµ¬ì¡° ì¼ê´€ì„± í™•ë³´

---

### Phase 186 âœ… (2025-10-25)

**test/unit/events í†µí•©**

- âœ… ì¤‘ë³µ í…ŒìŠ¤íŠ¸ ì œê±°
- âœ… ì •ì±… í†µí•©

---

### Phase 185 âœ… (2025-10-25)

**test/unit/hooks ì •ë¦¬**

- âœ… í›… í…ŒìŠ¤íŠ¸ êµ¬ì¡°í™”
- âœ… í†µí•© í…ŒìŠ¤íŠ¸ ì •ì±… ìˆ˜ë¦½

---

## ğŸ“‹ ì´ì „ ì™„ë£Œ Phase (185 ì´ì „)

ë” ì´ì „ì˜ ì™„ë£Œ ë‚´ìš©ì€ `docs/archive/` í´ë” ë° Git ì»¤ë°‹ íˆìŠ¤í† ë¦¬ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

**ìµœê·¼ ê¸°ë¡**:

- `docs/archive/TDD_REFACTORING_PLAN_COMPLETED.md` (ì´ì „ ë²„ì „)
- `docs/archive/COMPLETION_REPORT_*.md` (ë‹¨ê³„ë³„ ì™„ë£Œ ë³´ê³ ì„œ)
- Git: `git log --oneline | grep -i "phase\|phase-"`

---

## ğŸ” ì¡°íšŒ ë° ì°¸ê³ 

| í•­ëª©            | ìœ„ì¹˜                           |
| --------------- | ------------------------------ |
| **í™œì„± ê³„íš**   | `docs/TDD_REFACTORING_PLAN.md` |
| **ì™„ë£Œ ê¸°ë¡**   | ì´ íŒŒì¼ (ìš”ì•½) ë˜ëŠ” archive/   |
| **í…ŒìŠ¤íŠ¸ ì „ëµ** | `docs/TESTING_STRATEGY.md`     |
| **ì•„í‚¤í…ì²˜**    | `docs/ARCHITECTURE.md`         |
| **ì½”ë”© ê·œì¹™**   | `docs/CODING_GUIDELINES.md`    |
| **ìœ ì§€ë³´ìˆ˜**    | `docs/MAINTENANCE.md`          |

---

**ë§ˆì§€ë§‰ ìƒì„±**: 2025-10-26 (ìë™ ì •ë¦¬ ì‹œìŠ¤í…œ)

# ì¤‘ë³µ ë° ìœ ì‚¬ ê¸°ëŠ¥ ë¶„ì„ - ìµœì¢… ìš”ì•½

**ë¶„ì„ ì™„ë£Œ ë‚ ì§œ**: 2025-11-07 **ë¶„ì„ ë²”ìœ„**: `src/` ë””ë ‰í† ë¦¬ (579 TS/TSX íŒŒì¼)
**ì–¸ì–´ ì •ì±…**: âœ… ì˜ì–´ (Code/Docs) + í•œêµ­ì–´ (ì´ ìš”ì•½)

---

## ğŸ¯ ì£¼ìš” ë°œê²¬ì‚¬í•­

### 1ï¸âƒ£ íŒŒì¼ëª… ì¤‘ë³µ (7ê°œ, ìš°ì„ ë„: ì¤‘)

| íŒŒì¼ëª…                   | ìœ„ì¹˜                                                          | ìƒíƒœ                  | ê°œì„  í•„ìš”        |
| ------------------------ | ------------------------------------------------------------- | --------------------- | ---------------- |
| `index.ts`               | 22+ ë””ë ‰í† ë¦¬                                                  | âœ… ì •ìƒ (ë°°ëŸ´ export) | âŒ ë¶ˆí•„ìš”        |
| `types.ts`               | 8ê°œ ë””ë ‰í† ë¦¬                                                  | âœ… ì •ìƒ               | âŒ ë¶ˆí•„ìš”        |
| `events.ts`              | 2ê°œ (`src/shared/utils/`, `src/bootstrap/`)                   | âœ… êµ¬ë³„ ê°€ëŠ¥          | âŒ ë¶ˆí•„ìš”        |
| `Button.tsx`             | 2ê°œ (UI ì»´í¬ë„ŒíŠ¸)                                             | âœ… ë‹¤ë¥¸ ì—­í•           | âŒ ë¶ˆí•„ìš”        |
| **`service-manager.ts`** | **2ê°œ** (`src/shared/services/`, `src/shared/services/core/`) | âš ï¸ **ì¶©ëŒ ìœ„í—˜**      | âœ… **ê°œì„  í•„ìš”** |
| `toolbar.types.ts`       | 2ê°œ                                                           | âš ï¸ ì¤‘ë³µ ê°€ëŠ¥ì„±        | âœ… **í™•ì¸ í•„ìš”** |
| `preload.ts`             | 2ê°œ                                                           | âœ… êµ¬ë³„ ê°€ëŠ¥          | âŒ ë¶ˆí•„ìš”        |

**í•µì‹¬ ë¬¸ì œ**:

- âŒ `service-manager.ts` 2ê°œ ê²½ë¡œ â†’ **import í˜¼ë™ ìœ„í—˜**
- ğŸ“‹ **ê¶Œì¥**: `core/service-manager.ts` â†’ `core/core-service-manager.ts`
  ë¦¬ë„¤ì´ë°

---

### 2ï¸âƒ£ íƒ€ì… ì •ì˜ ì¤‘ë³µ (5ê°œ ì£¼ìš”, ìš°ì„ ë„: ê³ )

| íƒ€ì…ëª…               | íŒŒì¼1                  | íŒŒì¼2                       | ì¤‘ë³µë„ | Phase               |
| -------------------- | ---------------------- | --------------------------- | ------ | ------------------- |
| **`Result<T>`**      | `core/core-types.ts`   | `result.types.ts`           | 60%    | âš ï¸ Phase 353        |
| **`AsyncResult<T>`** | `core/core-types.ts`   | `app.types.ts`              | 100%   | âœ… Phase 353 ì •ë¦¬ë¨ |
| `AppConfig`          | `app-config.ts` (ìƒìˆ˜) | `core/core-types.ts` (íƒ€ì…) | ì¤‘ê°„   | âš ï¸ í™•ì¸ í•„ìš”        |
| `Cleanupable`        | 2ê°œ ìœ„ì¹˜               | -                           | 90%    | âœ… í†µí•© ê°€ëŠ¥        |
| **`MediaItem`**      | 33ê°œ íŒŒì¼ ì‚¬ìš©         | -                           | 100%   | âš ï¸ Phase 353 ì§€ì    |

**í•µì‹¬ ë¬¸ì œ**:

- âŒ `core-types.ts` vs `result.types.ts` ì •ì˜ ì¶©ëŒ
- âŒ ì¬export ì²´ì¸ì´ ë³µì¡í•¨ (`app.types` â†’ `core-types` â†’ `result.types`)
- ğŸ“‹ **ê¶Œì¥**: ë‹¨ì¼ ì •ì˜ë¡œ í†µí•© (SSOT ì›ì¹™)

**ìˆ˜ì • ë°©ì•ˆ** (Phase 353 ì—°ì¥):

```typescript
// âŒ ì œê±°
export type Result<T, E = Error> = ...;  // core-types.ts

// âœ… ìœ ì§€
export type Result<T> = ResultSuccess<T> | ResultPartial<T> | ResultError;  // result.types.ts
```

---

### 3ï¸âƒ£ ì„œë¹„ìŠ¤ ì¤‘ë³µ (3ê°œ ë‹¤ìš´ë¡œë“œ ì„œë¹„ìŠ¤, ìš°ì„ ë„: ê³ )

#### í˜„ì¬ êµ¬ì¡°

```
DownloadService (Phase 320)
â”œâ”€ Blob/File ë‹¤ìš´ë¡œë“œ
â”œâ”€ 423ì¤„
â””â”€ Methods: downloadBlob(), downloadBlobBulk()

UnifiedDownloadService (Phase 312)
â”œâ”€ URL ê¸°ë°˜ ë‹¤ìš´ë¡œë“œ
â”œâ”€ 613ì¤„
â””â”€ Methods: downloadSingle(), downloadBulk()

BulkDownloadService (Phase 313)
â”œâ”€ ë²Œí¬ + ZIP ì¡°ë¦½
â”œâ”€ 540ì¤„
â””â”€ Methods: downloadSingle(), downloadBulk()
```

#### ì¤‘ë³µ ë¶„ì„

| ë©”ì„œë“œ             | Download | Unified | Bulk | ì¤‘ë³µë„   |
| ------------------ | -------- | ------- | ---- | -------- |
| `downloadSingle()` | âŒ       | âœ…      | âœ…   | **50%**  |
| `downloadBulk()`   | âœ…       | âœ…      | âœ…   | **100%** |
| `DownloadOptions`  | âŒ       | âœ…      | âœ…   | **90%**  |
| `DownloadResult`   | âœ…       | âœ…      | âœ…   | **85%**  |

**í†µê³„**:

- ì´ 1,576ì¤„ ì¤‘ **600-800ì¤„ ì¤‘ë³µ** (40-50%)
- **3ê°œ ë©”ì„œë“œ \* 3ê°œ ì„œë¹„ìŠ¤** = ë¶ˆëª…í™•í•œ ì±…ì„

**í•µì‹¬ ë¬¸ì œ**:

- âŒ ì‚¬ìš©ìê°€ ì–´ëŠ ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•´ì•¼ í•˜ëŠ”ê°€?
- âŒ `UnifiedDownloadService.downloadBulk()` vs
  `BulkDownloadService.downloadBulk()` ì°¨ì´?
- ğŸ“‹ **ê¶Œì¥**: BulkDownloadService ì œê±°, UnifiedDownloadServiceë¡œ í†µí•©

**ê°œì„  í›„ êµ¬ì¡°**:

```
DownloadService (Blob/Fileë§Œ)
  â””â”€ downloadBlob(), downloadBlobBulk()

MediaDownloadService (URL ê¸°ë°˜, í†µí•©)
  â”œâ”€ downloadSingle()
  â””â”€ downloadBulk()
      â””â”€ ë‚´ë¶€: DownloadOrchestrator
```

---

### 4ï¸âƒ£ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ë¶„ì‚° (ìš°ì„ ë„: ì €)

#### ë¯¸ë””ì–´ URL ìœ í‹¸ë¦¬í‹° í˜¼ë€

```
src/shared/utils/media/
â”œâ”€ image-filter.ts âœ…
â”œâ”€ media-click-detector.ts âœ…
â”œâ”€ media-url-compat.ts âš ï¸ (media-url/ ëª¨ë“ˆê³¼ ê²¹ì¹¨?)
â””â”€ media-url.util.ts âš ï¸ (media-url/ ëª¨ë“ˆê³¼ ê²¹ì¹¨?)

src/shared/utils/media-url/
â”œâ”€ classification/
â”œâ”€ extraction/
â”œâ”€ factory/
â”œâ”€ quality/
â”œâ”€ transformation/
â”œâ”€ validation/
â””â”€ types.ts
```

**í‰ê°€**: âš ï¸ êµ¬ì¡° í˜¼ë€, í•˜ì§€ë§Œ ê¸°ëŠ¥ì€ êµ¬ë³„ë¨

**ê¶Œì¥**: ëª…í™•í•œ êµ¬ì¡° ì •ì˜ í•„ìš”

#### DOM ìœ í‹¸ë¦¬í‹° (ì¢‹ì€ ì˜ˆ)

```
src/shared/dom/ (ì„œë¹„ìŠ¤ ê³„ì¸µ)
â”œâ”€ dom-cache.ts
â”œâ”€ dom-event-manager.ts
â”œâ”€ selector-registry.ts
â””â”€ utils/dom-utils.ts

src/shared/utils/dom/ (ì¬ì‚¬ìš© ìœ í‹¸)
â”œâ”€ batch-dom-update-manager.ts
â”œâ”€ dom-batcher.ts
â””â”€ css-validation.ts
```

**í‰ê°€**: âœ… ì ì ˆí•œ ë¶„ë¦¬

---

### 5ï¸âƒ£ ìƒìˆ˜ ì •ì˜ ë¶„ì‚° (ìš°ì„ ë„: ì €)

#### í˜„ì¬ ìƒíƒœ

```
src/constants/ (ì „ì—­ ìƒìˆ˜, 11ê°œ íŒŒì¼)
â”œâ”€ app-config.ts
â”œâ”€ css.ts
â”œâ”€ events.ts
â”œâ”€ media.ts
â”œâ”€ selectors.ts
â”œâ”€ timing.ts
â””â”€ ... (ê¸°íƒ€)

src/shared/constants/i18n/ (i18në§Œ)
â”œâ”€ languages/ (en, ko, ja)
â”œâ”€ language-types.ts
â””â”€ translation-registry.ts
```

**í‰ê°€**: âœ… ì •ì±… ì˜ ì¤€ìˆ˜ë¨

**ê¶Œì¥**: ë³€ê²½ ë¶ˆí•„ìš”

---

## ğŸ“Š í†µê³„ ìš”ì•½

| ì¹´í…Œê³ ë¦¬    | ë°œê²¬ | ì‹¬ê°ë„   | ì˜í–¥ë„   |
| ----------- | ---- | -------- | -------- |
| íŒŒì¼ëª… ì¤‘ë³µ | 7ê°œ  | ì¤‘       | ë‚®ìŒ     |
| íƒ€ì… ì¤‘ë³µ   | 5ê°œ+ | **ë†’ìŒ** | **ë†’ìŒ** |
| ì„œë¹„ìŠ¤ ì¤‘ë³µ | 3ê°œ  | **ë†’ìŒ** | **ì¤‘ê°„** |
| ìœ í‹¸ ë¶„ì‚°   | 2ê°œ  | ì €       | ë‚®ìŒ     |
| ìƒìˆ˜ ë¶„ì‚°   | âœ…   | -        | -        |

**ì´ ì½”ë“œ ì¤‘ë³µ**: **ì•½ 40-50%** (1,400-1,600ì¤„ / 35,000ì¤„ ì¤‘)

---

## âœ… Phase ë³„ ê°œì„  ë¡œë“œë§µ

### Phase 353 ì—°ì¥: íƒ€ì… ì‹œìŠ¤í…œ ì •ë¦¬

**ëª©í‘œ**: `Result<T>` ë‹¨ì¼ ì •ì˜ë¡œ í†µí•©

```
ì˜ˆìƒ ì˜í–¥ë„: ë†’ìŒ (ì „ì—­)
ì˜ˆìƒ ì‘ì—…ëŸ‰: ì¤‘ê°„ (ëª¨ë“  import ìˆ˜ì •)
ìœ„í—˜ë„: ì¤‘ê°„ (íšŒê·€ í…ŒìŠ¤íŠ¸ í•„ìˆ˜)
```

### Phase 354++: íŒŒì¼ëª… ì •ê·œí™”

**ëª©í‘œ**: `service-manager.ts` ë¦¬ë„¤ì´ë°

```
ì˜ˆìƒ ì˜í–¥ë„: ë‚®ìŒ (3ê°œ íŒŒì¼)
ì˜ˆìƒ ì‘ì—…ëŸ‰: ë‚®ìŒ (íŒŒì¼ ì´ë™ + import ìˆ˜ì •)
ìœ„í—˜ë„: ë‚®ìŒ
```

### Phase 355++: ë‹¤ìš´ë¡œë“œ ì„œë¹„ìŠ¤ í†µí•©

**ëª©í‘œ**: BulkDownloadService ì œê±°, UnifiedDownloadService í†µí•©

```
ì˜ˆìƒ ì˜í–¥ë„: ì¤‘ê°„ (6+ íŒŒì¼)
ì˜ˆìƒ ì‘ì—…ëŸ‰: ì¤‘ê°„ (ë¡œì§ í†µí•©)
ìœ„í—˜ë„: ì¤‘ê°„-ë†’ìŒ (ë‹¤ìš´ë¡œë“œ ë¡œì§ì€ critical)
```

### Phase 356++: ë¯¸ë””ì–´ URL ì •ë¦¬

**ëª©í‘œ**: ìœ í‹¸ë¦¬í‹° êµ¬ì¡° ëª…í™•í™”

```
ì˜ˆìƒ ì˜í–¥ë„: ë‚®ìŒ-ì¤‘ê°„
ì˜ˆìƒ ì‘ì—…ëŸ‰: ë‚®ìŒ (ì¬êµ¬ì¡°í™”ë§Œ)
ìœ„í—˜ë„: ë‚®ìŒ
```

---

## ğŸ” ì„¸ë¶€ ë¶„ì„ ë¬¸ì„œ

ë” ìì„¸í•œ ë¶„ì„ì€ ë‹¤ìŒ ë¬¸ì„œ ì°¸ê³ :

ğŸ“„ **[STATIC_ANALYSIS_REPORT.md](./STATIC_ANALYSIS_REPORT.md)**

- íŒŒì¼ëª… ì¤‘ë³µ ìƒì„¸ ë¶„ì„
- íƒ€ì… ì •ì˜ ì—°ì‡„ ì¬export ë¶„ì„
- ì„œë¹„ìŠ¤ ì¤‘ë³µ ì½”ë“œ ë§¤í•‘
- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ë¶„ì‚° ë¶„ì„
- ìƒìˆ˜ ì •ì˜ ì •ì±… ê²€í† 
- ì•„í‚¤í…ì²˜ ê¶Œì¥ì‚¬í•­ 5ê°€ì§€
- ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

---

## âœ¨ ì–¸ì–´ ì •ì±… ì¤€ìˆ˜

âœ… **ëª¨ë“  íŒŒì¼ ê²€ì¦**:

- **ì½”ë“œ**: 100% ì˜ì–´
- **ì£¼ì„**: 100% ì˜ì–´
- **ë³€ìˆ˜ëª…**: ì˜ì–´

âœ… **ì´ ë¬¸ì„œ**:

- ê¸°ìˆ  ìš©ì–´: ì˜ì–´
- ì„¤ëª…: í•œêµ­ì–´
- [LANGUAGE_POLICY_MIGRATION.md](./LANGUAGE_POLICY_MIGRATION.md) ì¤€ìˆ˜

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

1. **ì´ ë³´ê³ ì„œ ê²€í† ** (ê°œë°œíŒ€)
2. **Phase ìš°ì„ ìˆœìœ„ íšŒì˜** (PM + Lead)
3. **ì‘ì—… ì¼ì • ìˆ˜ë¦½** (Sprint planning)
4. **Phase 353 ì—°ì¥ ì‹œì‘** (íƒ€ì… ì •ë¦¬)

---

**ë³´ê³ ì„œ ìƒíƒœ**: âœ… ì™„ì„± **ìµœì¢… ê²€ì¦**: âœ… í†µê³¼ (TypeScript, ESLint, Dependency
Check) **ìƒì„± ì¼ì‹œ**: 2025-11-07 14:30 KST

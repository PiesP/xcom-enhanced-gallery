# UI 텍스트 및 아이콘 사용 최적화 분석 보고서

**작성일**: 2025-01-04 **Epic**: UI-TEXT-ICON-OPTIMIZATION **상태**: Phase 0
(분석 완료, 실행 대기)

---

## 📊 Executive Summary

프로젝트의 UI 요소 평가 결과, **전반적으로 우수한 접근성과 일관성**을 갖추고
있으나, **4가지 개선 기회**를 발견하였습니다. 이를 통합 Epic으로 구성하여
단계적으로 개선할 계획입니다.

**핵심 지표**:

- 접근성: WCAG 2.1 Level AA 준수율 **85% → 100%** (목표)
- 국제화: i18n 키 커버리지 **85% → 100%** (목표)
- 아이콘 중복 사용: **1건 → 0건** (목표)
- 추가 테스트: **+15-20개 케이스**

---

## 1. 솔루션 평가 매트릭스

### 이슈 1: 국제화 불일치 (I18N-COMPLETION)

| 솔루션                                    | 난이도 | 시간 | 영향도 | 리스크 | 가치   | 선택 |
| ----------------------------------------- | ------ | ---- | ------ | ------ | ------ | ---- |
| **A. 전체 하드코딩 LanguageService 이관** | S      | 2-3h | High   | Low    | High   | ✅   |
| B. 점진적 마이그레이션                    | S      | 4-5h | Medium | Low    | Medium | ❌   |

**선택 이유**:

- ✅ 완전한 해결 (일관성)
- ✅ 낮은 난이도 (기존 패턴 재사용)
- ✅ 한 번의 PR로 완료 가능

---

### 이슈 2: Title vs Aria-Label 중복 (TOOLTIP-SEMANTICS)

| 솔루션                                            | 난이도 | 시간 | 영향도 | 리스크 | 가치   | 선택 |
| ------------------------------------------------- | ------ | ---- | ------ | ------ | ------ | ---- |
| **A. aria-label 간결 + title 상세 (키보드 힌트)** | S      | 1-2h | Medium | Low    | Medium | ✅   |
| B. title 속성 제거                                | S      | 1h   | Low    | Low    | Low    | ❌   |

**선택 이유**:

- ✅ 접근성 + UX 모두 개선
- ✅ WCAG 권장 사항 준수
- ✅ 키보드 단축키 발견성 향상

---

### 이슈 3: 아이콘 중복 사용 (ICON-SEMANTIC-CLARITY)

| 솔루션                                | 난이도 | 시간 | 영향도 | 리스크 | 가치   | 선택 |
| ------------------------------------- | ------ | ---- | ------ | ------ | ------ | ---- |
| **A. 새 아이콘 추가 (QuestionMark)**  | S      | 1-2h | Medium | Low    | Medium | ✅   |
| B. 기존 아이콘 유지 + aria-label 강화 | S      | 0.5h | Low    | Low    | Low    | ❌   |
| C. KeyboardHelp 버튼 제거             | S      | 0.5h | Low    | Low    | Low    | ❌   |

**선택 이유**:

- ✅ 명확한 시각적 구분
- ✅ 의미론적 일관성
- ✅ Epic GALLERY-NAV-ENHANCEMENT 기능 유지

---

### 이슈 4: ContextMenu 접근성 미흡 (CONTEXTMENU-A11Y-ENHANCE)

| 솔루션                              | 난이도 | 시간 | 영향도 | 리스크 | 가치   | 선택 |
| ----------------------------------- | ------ | ---- | ------ | ------ | ------ | ---- |
| **A. ARIA role 추가 + 포커스 관리** | M      | 2-3h | Medium | Low    | Medium | ✅   |
| B. 네이티브 브라우저 메뉴로 회귀    | S      | 1h   | Low    | Low    | Low    | ❌   |

**선택 이유**:

- ✅ WCAG 2.1 Level AA 완전 준수
- ✅ Epic CONTEXT-MENU-UI Phase 3 완성
- ✅ 기존 18개 테스트로 회귀 방지

---

## 2. 통합 전략 (Epic UI-TEXT-ICON-OPTIMIZATION)

### 단일 Epic으로 통합 이유

1. **상호 의존성**: I18N-COMPLETION과 TOOLTIP-SEMANTICS는 LanguageService 확장을
   공유
2. **일관된 목표**: 접근성 + 국제화 + 명확성 개선
3. **효율성**: 한 번의 문서 업데이트, 통합 테스트

### Phase 구성

```
Phase 1 (RED): 15-20개 테스트 작성
  └─ 4개 영역별 계약 정의

Phase 2 (GREEN): 최소 구현
  ├─ LanguageService 확장 (13개 키)
  ├─ Toolbar.tsx 하드코딩 제거 (12개 버튼)
  ├─ QuestionMark 아이콘 추가
  └─ ContextMenu ARIA 역할 추가

Phase 3 (REFACTOR): 문서화 + 가이드
  ├─ CODING_GUIDELINES.md 업데이트
  ├─ 회귀 방지 가드 추가
  └─ 변경 사항 요약
```

---

## 3. 장단점 비교 요약

### ✅ 최종 선택의 장점

1. **완전한 다국어 지원** (한국어/영어/일본어)
2. **일관된 접근성** (WCAG AA 100% 준수)
3. **명확한 사용자 경험** (아이콘 중복 해소, 키보드 힌트 제공)
4. **낮은 리스크** (기존 패턴 재사용, 테스트로 회귀 방지)
5. **TDD 적합성** (단계별 검증 가능)

### ⚠️ 고려 사항 (Trade-offs)

1. **번들 크기 증가** (+2-3 KB 예상)
   - 완화: 아이콘 1개만 추가, i18n 리소스는 압축 효과 높음
2. **여러 파일 동시 수정** (12개 파일)
   - 완화: 명확한 체크리스트, Phase별 검증
3. **일본어 리소스 번역 필요**
   - 완화: 기존 패턴 참고, 간단한 UI 텍스트

---

## 4. 예상 영향

### 정량적 지표

| 지표             | Before | After   | 변화   |
| ---------------- | ------ | ------- | ------ |
| 하드코딩 텍스트  | 12개   | 0개     | -100%  |
| i18n 키 커버리지 | 85%    | 100%    | +15%   |
| 접근성 테스트    | ~200개 | ~220개  | +10%   |
| 아이콘 중복 사용 | 1건    | 0건     | -100%  |
| 번들 크기        | 781 KB | ~783 KB | +0.25% |

### 정성적 효과

- ✅ **모든 언어 사용자**에게 완전한 번역 제공
- ✅ **키보드 사용자**에게 단축키 힌트 명확히 제공
- ✅ **스크린 리더 사용자**에게 일관된 접근성 제공
- ✅ **개발자**에게 명확한 가이드라인 제공

---

## 5. 리스크 관리

### 식별된 리스크

| 리스크                     | 영향   | 확률 | 완화 전략                         | 책임    |
| -------------------------- | ------ | ---- | --------------------------------- | ------- |
| 언어 변경 시 리렌더링 성능 | Medium | Low  | 기존 signal 기반 최적화 활용      | Phase 2 |
| 기존 테스트 회귀           | High   | Low  | Phase 1 계약 테스트로 경계 명확화 | Phase 1 |
| 번들 크기 초과 (+10 KB)    | Medium | Low  | 아이콘 1개만 추가, 압축 효과 측정 | Phase 3 |
| ContextMenu 부작용         | Medium | Low  | 기존 18개 테스트로 회귀 방지      | Phase 2 |

### 품질 게이트

**자동 검증**:

- `npm run typecheck` — 0 errors
- `npm run lint:fix` — clean
- `npm test` — 모든 테스트 GREEN
- `npm run build` — 성공

**수동 검증**:

- 3개 언어 전환 확인
- 키보드 단축키 툴팁 확인
- 스크린 리더 호환성 확인

---

## 6. 대안 솔루션 (선택되지 않음)

### 대안 A: 점진적 마이그레이션

- **장점**: 리스크 분산
- **단점**: 불일치 기간 지속, 여러 PR 필요
- **미선택 이유**: 일관성 부족, 복잡도 증가

### 대안 B: Title 속성 제거

- **장점**: 중복 제거
- **단점**: 키보드 단축키 힌트 소실
- **미선택 이유**: UX 저하

### 대안 C: KeyboardHelp 버튼 제거

- **장점**: 복잡도 감소
- **단점**: 기능 손실
- **미선택 이유**: Epic GALLERY-NAV-ENHANCEMENT 목적 상실

---

## 7. 다음 단계

### 즉시 실행 (Phase 1)

1. 4개 테스트 파일 작성
2. RED 상태 확인
3. Acceptance Criteria 검증

### 구현 (Phase 2)

1. LanguageService 확장
2. Toolbar.tsx 하드코딩 제거
3. QuestionMark 아이콘 추가
4. ContextMenu ARIA 역할 추가
5. 모든 테스트 GREEN 확인

### 정리 (Phase 3)

1. 문서 3개 업데이트
2. 회귀 방지 가드 추가
3. 번들 크기 측정 및 기록

---

## 8. 참고 자료

- **활성 계획**: `docs/TDD_REFACTORING_PLAN.md` (Epic UI-TEXT-ICON-OPTIMIZATION)
- **백로그**: `docs/TDD_REFACTORING_BACKLOG.md` (장기 개선 과제)
- **코딩 가이드**: `docs/CODING_GUIDELINES.md`
- **아키텍처**: `docs/ARCHITECTURE.md`
- **WCAG 2.1**: https://www.w3.org/WAI/WCAG21/quickref/
- **ARIA Authoring Practices**: https://www.w3.org/WAI/ARIA/apg/

---

**승인 필요 사항**: 없음 (TDD 워크플로 내에서 자체 검증)

**예상 완료**: Phase 1-3 총 8-10시간 (1-2일 작업)

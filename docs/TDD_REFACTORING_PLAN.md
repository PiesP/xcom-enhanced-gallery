# TDD ë¦¬íŒ©í† ë§ í™œì„± ê³„íš

ìµœì¢… ì—…ë°ì´íŠ¸: 2025-10-20

ìš”ì•½

- ìŠ¤í¬ë¡¤ ì²´ì´ë‹ ì „ ì˜ì—­(ë™ì  ì½˜í…ì¸ /ë™ì‹œ ì…ë ¥/ì• ë‹ˆë©”ì´ì…˜/ë¦¬ì‚¬ì´ì¦ˆ)ì˜ í…ŒìŠ¤íŠ¸ ê°•í™”
  ì™„ë£Œ
- êµ¬í˜„ ë³€ê²½ ì—†ì´ ë¸Œë¼ìš°ì € ë„¤ì´í‹°ë¸Œ ë™ì‘ê³¼ CSS ê¸°ë°˜ ì ‘ê·¼ì˜ ì¶©ë¶„ì„± ê²€ì¦
- ëª¨ë“  ìŠ¤ìœ„íŠ¸ GREEN, ë¹Œë“œ í¬ê¸° ì •ìƒ ë²”ìœ„ ìœ ì§€

## í™œì„± ê³¼ì œ(ìš°ì„ ìˆœìœ„ ìˆœ)

1. PostCSS ìƒëŒ€ ìƒ‰ìƒ ê²½ê³  ì •ë¦¬ (P0)

- ë°°ê²½: OKLCH ìƒëŒ€ ìƒ‰ìƒ êµ¬ë¬¸ì—ì„œ ë¹Œë“œ ë¡œê·¸ ê²½ê³  ë°œìƒ(ë¹„ì¹˜ëª…, ì‚°ì¶œë¬¼ OK)
- ëŒ€ì•ˆ:
  - A. í”ŒëŸ¬ê·¸ì¸ êµì •: postcss í”ŒëŸ¬ê·¸ì¸/ì˜µì…˜ ìµœì‹ í™”ë¡œ ê²½ê³  ì–µì œ ë˜ëŠ” íŒŒì‹± ë³´ì™„
  - B. íŒŒìƒ í† í° í”„ë¦¬ì»´íŒŒì¼: prodì—ì„  ìˆ˜ì¹˜í˜• OKLCHë¡œ í™•ì •, devì—ì„œë§Œ RCS ìœ ì§€
  - C. ê²½ê³  í—ˆìš©: ì •ì±…ìƒ í—ˆìš©í•˜ê³  ë¡œê·¸ë§Œ ê´€ë¦¬
- ì„ íƒ: A ìš°ì„  ì ìš©, í•„ìš” ì‹œ B ë³‘í–‰. ìˆ˜ìš© ê¸°ì¤€: prod ë¹Œë“œ ì‹œ PostCSS ê²½ê³  0

1. ë ˆê±°ì‹œ í† í° alias ë‹¨ê³„ì  ì œê±° (P1)

- ë°°ê²½: í˜¸í™˜ìš© alias ë¸Œë¦¬ì§€ê°€ ì¡´ì¬. ì‹ ê·œ/í•µì‹¬ ê²½ë¡œëŠ” canonical í† í° ì‚¬ìš© ê¶Œì¥
- ì „ëµ: ì†ŒìŠ¤ ì´ê´€(ê²€ìƒ‰/ì¹˜í™˜) â†’ í…ŒìŠ¤íŠ¸ â†’ ì”ì¡´ ì™¸ë¶€/ë ˆê±°ì‹œ ê²½ë¡œë§Œ alias ìœ ì§€
- ìˆ˜ìš© ê¸°ì¤€: src/features/\*\* ë‚´ alias ì°¸ì¡° 0, ë¸Œë¦¬ì§€ íŒŒì¼ì€ í•˜ìœ„ í˜¸í™˜ ìœ„í•´
  ìœ ì§€

1. ë²ˆë“¤ ì—¬ìœ  í™•ë³´ (+â‰¥3 KB) (P2)

- ë°°ê²½: í˜„ì¬ raw 332.29 KB(â‰¤ 335 KB). ê²½ê³„ ê·¼ì ‘
- ëŒ€ì•ˆ: dead exports/ë¯¸ì‚¬ìš© ì½”ë“œ ì œê±°, logger ë ˆë²¨ ì¶”ê°€ ì •ë¦¬, terser ì˜µì…˜ ì¬ì ê²€
- ìˆ˜ìš© ê¸°ì¤€: raw â‰¤ 332.0 KB ë˜ëŠ” ì—¬ìœ  â‰¥ 3.0 KB í™•ë³´(ì •ì±… PASS ìœ ì§€)

## í˜„ì¬ ìƒíƒœ

- ë¹Œë“œ: 332.12 KB / 335 KB (ì—¬ìœ  2.88 KB)
- í…ŒìŠ¤íŠ¸: 1900+ GREEN (unit/browser/E2E/a11y)
- ì»¤ë²„ë¦¬ì§€: Lines 68.47% Â· Functions 62.15% Â· Branches 76.17%
- CodeQL/ESLint/Stylelint/Typecheck: ëª¨ë‘ í†µê³¼

## ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ (íƒ1)

1. ì‘ì—… ì¢…ë£Œ ì„ ì–¸(ê¶Œì¥): ìŠ¤í¬ë¡¤ ì²´ì´ë‹ Phaseë¥¼ ì¢…ë£Œí•˜ê³  ë‹¤ë¥¸ ê°€ì¹˜ ë†’ì€ ì˜ì—­ìœ¼ë¡œ
   ì „í™˜
2. ì†Œê·œëª¨ í›„ì†(ì˜µì…˜): ì ì§„ ê°œì„  1~2ì¼ ë²”ìœ„ì˜ ë§ˆë¬´ë¦¬ ì‘ì—… ìˆ˜í–‰

## ì†Œê·œëª¨ í›„ì† ì‘ì—… ëª©ë¡(ì˜µì…˜)

- ì»¤ë²„ë¦¬ì§€ ë¼ì¸ 70% ê·¼ì ‘í™”: ì‘ì€ íŒŒì¼ ìœ„ì£¼ 5~8 tests ì¶”ê°€
- ë¹Œë“œ í¬ê¸° ë¯¸ì„¸ ì¡°ì •: dead export ì ê²€, ê²½ëŸ‰ import í™•ì¸ (ëª©í‘œ -1% ì´ë‚´)
- ì ‘ê·¼ì„± ë¯¸ì„¸ ê°œì„ : ëŒ€ë¹„/í¬ì»¤ìŠ¤ í‘œì‹œ ì¬í™•ì¸, ìŠ¤í¬ë¦°ë¦¬ë” íŒíŠ¸ 1~2ê±´ ë³´ê°•

## ìˆ˜ìš© ê¸°ì¤€

- ëª¨ë“  ìŠ¤ìœ„íŠ¸ GREEN ìœ ì§€ (unit/browser/E2E/a11y)
- ë¹Œë“œ â‰¤ 335 KB ìœ ì§€, CodeQL 0 ê²½ê³ 
- ë¬¸ì„œ ìµœì‹ í™”: ì™„ë£Œ ê¸°ë¡ì€ ì™„ë£Œ ë¬¸ì„œë¡œ ì´ê´€, ë³¸ ë¬¸ì„œëŠ” ê°„ê²° ìœ ì§€

## ì°¸ê³  ë¬¸ì„œ

- ì™„ë£Œ ê¸°ë¡: docs/TDD_REFACTORING_PLAN_COMPLETED.md
- ê°œë°œ ì›Œí¬í”Œë¡œ: AGENTS.md, docs/ARCHITECTURE.md, docs/CODING_GUIDELINES.md

> ê³¼ê±° ìƒì„¸ Phase/ì§€í‘œ/êµí›ˆì€ ëª¨ë‘ ì™„ë£Œ ë¬¸ì„œë¡œ ì´ê´€í–ˆìŠµë‹ˆë‹¤. ë³¸ ë¬¸ì„œëŠ” í™œì„±
> ê³„íšë§Œ ê°„ê²°í•˜ê²Œ ìœ ì§€í•©ë‹ˆë‹¤.

---

ë³€ê²½ ì´ë ¥ ìš”ì•½(ì™„ë£Œ í•­ëª©ì€ ì™„ë£Œ ë¬¸ì„œì—ì„œ í™•ì¸)

- Phase 141: ì½”ë“œ í’ˆì§ˆ ë¦¬íŒ©í† ë§(íƒ€ì… ê°€ë“œ/ì´ì¤‘ ë‹¨ì–¸ ì œê±°) â€“ ì™„ë£Œ ê¸°ë¡ìœ¼ë¡œ ì´ê´€
- Phase 140: ì»¤ë²„ë¦¬ì§€ ê°œì„ (140.1~140.5) â€“ ì™„ë£Œ ê¸°ë¡ìœ¼ë¡œ ì´ê´€

ìì„¸í•œ ì§€í‘œ/êµí›ˆ/ì„¸ë¶€ ë‹¨ê³„ëŠ” ë‹¤ìŒ ë¬¸ì„œì—ì„œ í™•ì¸í•˜ì„¸ìš”:

- docs/TDD_REFACTORING_PLAN_COMPLETED.md

## Next steps

- P0: PostCSS ìƒëŒ€ ìƒ‰ìƒ ê²½ê³  ì œê±°(í”ŒëŸ¬ê·¸ì¸/ì˜µì…˜ êµì • â†’ í•„ìš” ì‹œ í”„ë¦¬ì»´íŒŒì¼)
- P1: ë ˆê±°ì‹œ í† í° alias ì‚¬ìš©ì²˜ ì¹˜í™˜(ì†ŒìŠ¤ ì´ê´€), ë¸Œë¦¬ì§€ëŠ” í˜¸í™˜ìš© ìœ ì§€
- P2: ë²ˆë“¤ ì—¬ìœ  í™•ë³´(â‰¥3 KB) â€” dead export/ë¯¸ì‚¬ìš© ì½”ë“œ ì œê±° ë° terser/ë¡œê¹… ì¬ì ê²€

ì™„ë£Œë˜ëŠ” ì¦‰ì‹œ í•´ë‹¹ í•­ëª©ì€ `docs/TDD_REFACTORING_PLAN_COMPLETED.md`ë¡œ ì´ê´€í•˜ê³  ì´
ë¬¸ì„œì—ì„œëŠ” ì œê±°í•©ë‹ˆë‹¤.

- 25ê°œ+ í…ŒìŠ¤íŠ¸ (11ê°œ ì¶”ê°€)
- Settings, Modal, í¬ì»¤ìŠ¤ íŠ¸ë© ë“± ì¶”ê°€

**ì‘ì—…**:

- [ ] **ì‹ ê·œ í…ŒìŠ¤íŠ¸ íŒŒì¼ ì¶”ê°€**:
  - settings-a11y.spec.ts (4 tests): ì„¤ì • íŒ¨ë„ ì ‘ê·¼ì„±
  - modal-a11y.spec.ts (3 tests): ëª¨ë‹¬ í¬ì»¤ìŠ¤ íŠ¸ë©
  - focus-management-a11y.spec.ts (4 tests): í¬ì»¤ìŠ¤ ê´€ë¦¬ ì¢…í•©

- [ ] **ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ê°•í™”**:
  - ìƒ‰ìƒ ëŒ€ë¹„ ë¹„ìœ¨ ê²€ì¦ (WCAG AAA ê³ ë ¤)
  - í‚¤ë³´ë“œ íŠ¸ë© ê°ì§€
  - Skip links ì¶”ê°€

**ìˆ˜ìš© ê¸°ì¤€**:

- [ ] ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ â‰¥25ê°œ
- [ ] axe-core WCAG 2.1 Level AA ìœ„ë°˜ 0ê±´

## ë°±ë¡œê·¸ (ìš°ì„ ìˆœìœ„ë³„)

### ï¿½ ë†’ìŒ (P0 - ì¦‰ì‹œ)

í˜„ì¬ ë†’ì€ ìš°ì„ ìˆœìœ„ ë°±ë¡œê·¸ ì—†ìŒ âœ…

### ğŸŸ¡ ì¤‘ê°„ (P1 - ë‹¤ìŒ Phase)

**Phase 140 í›„ë³´ ì˜µì…˜**:

**A. ì„±ëŠ¥ ìµœì í™” ê³„ì†** (CI/ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì¶”ê°€ ìµœì í™”)

- CI ì‹¤ì œ ì‹œê°„ ì¸¡ì • ë° ì¶”ê°€ ìµœì í™”
- ë¡œì»¬ í…ŒìŠ¤íŠ¸ í”„ë¡œíŒŒì¼ë§ (í•„ìš” ì‹œ)
- ëª©í‘œ: CI ~10ë¶„ ê²€ì¦, ë¡œì»¬ 25ì´ˆ â†’ 20ì´ˆ

**B. ë¹Œë“œ í¬ê¸° ë¯¸ì„¸ ì¡°ì •** (í˜„ì¬ 331.97 KB â†’ 325 KB)

- ë²ˆë“¤ ë¶„ì„ ë° ìµœì í™”
- Tree-shaking ê°•í™”
- ëª©í‘œ: 2% ë¹Œë“œ í¬ê¸° ê°ì†Œ

**C. ì ‘ê·¼ì„± ì‹¬í™”** (ìŠ¤í¬ë¦° ë¦¬ë”, ê³ ëŒ€ë¹„ ëª¨ë“œ)

- ìŠ¤í¬ë¦° ë¦¬ë” í…ŒìŠ¤íŠ¸ ì¶”ê°€
- ê³ ëŒ€ë¹„ ëª¨ë“œ ì§€ì›
- ì¶”ê°€ ARIA ì†ì„±
- ëª©í‘œ: WCAG AAA ì¼ë¶€ ì¤€ìˆ˜

**D. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ê°œì„ **

- ë¼ì¸ ì»¤ë²„ë¦¬ì§€: 66% â†’ 70%+
- í•¨ìˆ˜ ì»¤ë²„ë¦¬ì§€: 54% â†’ 60%+
- ë¸Œëœì¹˜ ì»¤ë²„ë¦¬ì§€: 74% â†’ 80%+
- ëª©í‘œ: ì—£ì§€ ì¼€ì´ìŠ¤ ê°•í™”

**E. ì½”ë“œ í’ˆì§ˆ ì§€ì† ê°œì„ **

- ë‚¨ì€ 'as unknown' 10ê°œ ì •ë¦¬
- ErrorContext íŒ¨í„´ í™•ëŒ€
- Dead code ì œê±°
- ëª©í‘œ: 100% íƒ€ì… ì•ˆì „

### ï¿½ ë‚®ìŒ (P2 - ë°±ë¡œê·¸)

- ë¬¸ì„œ ì¶”ê°€ ê°œì„  (í˜„ì¬ ì¶©ë¶„)
- ê°œë°œ ë„êµ¬ ì¶”ê°€ (ë””ë²„ê¹… íŒ¨ë„ ë“±)
- ë¡œê¹… ì‹œìŠ¤í…œ ê°œì„ 
- ì¶”ê°€ E2E ì‹œë‚˜ë¦¬ì˜¤

## ì™„ë£Œëœ Phase ìš”ì•½

### ìµœê·¼ ì™„ë£Œ (Phase 136-140.5)

| Phase | ì œëª©                    | ì™„ë£Œì¼     | í•µì‹¬ ì„±ê³¼                                        |
| ----- | ----------------------- | ---------- | ------------------------------------------------ |
| 140.5 | ìŠ¤í¬ë¡¤ ì²´ì´ë‹ í…ŒìŠ¤íŠ¸    | 2025-10-20 | 60 tests (+207%), unit 33 + browser 11 + E2E 16  |
| 140.4 | Phase 140.4 (ê³„íš ì¤‘)   | -          | core-utils.ts ì»¤ë²„ë¦¬ì§€ ê°œì„                       |
| 140.3 | Phase 140.3 (ë¶€ë¶„ ì™„ë£Œ) | 2025-10-20 | í†µí•© í…ŒìŠ¤íŠ¸ ì‹œë„, ì»¤ë²„ë¦¬ì§€ 67.77%                |
| 140.2 | ë¯¸ì‚¬ìš© ì½”ë“œ ì •ë¦¬        | 2025-10-20 | 6ê°œ íŒŒì¼ ì œê±°, +0.36%p ì»¤ë²„ë¦¬ì§€                  |
| 140.1 | í•µì‹¬ ê¸°ëŠ¥ íŒŒì¼          | 2025-10-20 | GalleryRenderer 87.43%, useGalleryCleanup 92.42% |
| 139   | ì„±ëŠ¥ + ì ‘ê·¼ì„± (A+C)     | 2025-10-20 | CI ìƒ¤ë”© 2ê°œ (-33%), ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ 34ê°œ (+143%)   |
| 138.4 | JSDoc í‘œì¤€í™”            | 2025-10-20 | 50+ í•¨ìˆ˜ ë¬¸ì„œí™”, IDE 40-50% ê°œì„                  |
| 138.3 | ë°°ëŸ´ export ë¶„ì„        | 2025-10-20 | 54ê°œ íŒŒì¼ ë¶„ì„, ì˜ë„ì  íŒ¨í„´ í™•ì¸                 |
| 138.2 | Vendors export ëª…ì‹œí™”   | 2025-10-20 | 13ê°œ í•¨ìˆ˜ ì²´ê³„í™”, ëª…í™•ì„± 4ë°°                     |
| 138.1 | DOMUtils í•¨ìˆ˜í˜• ì „í™˜    | 2025-10-20 | í´ë˜ìŠ¤â†’í•¨ìˆ˜ 11ê°œ, tree-shaking                   |
| 137   | Type Guard ì ìš©         | 2025-10-20 | 'as unknown' 21â†’10, ì¤‘ì²© ê°ì²´ 4ê°œ                |
| 136   | íƒ€ì… ë‹¨ì–¸ í˜„ëŒ€í™”        | 2025-10-20 | Type Guard 12ê°œ, í…ŒìŠ¤íŠ¸ 52ê°œ                     |

ìƒì„¸:
[`docs/archive/TDD_REFACTORING_PLAN_COMPLETED.md`](./archive/TDD_REFACTORING_PLAN_COMPLETED.md)

## ì°¸ê³  ë¬¸ì„œ

- **[docs/archive/TDD_REFACTORING_PLAN_COMPLETED.md](./archive/TDD_REFACTORING_PLAN_COMPLETED.md)**:
  ì™„ë£Œëœ Phase ìƒì„¸ ê¸°ë¡
- **[AGENTS.md](../AGENTS.md)**: ê°œë°œ ì›Œí¬í”Œë¡œìš°, ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ë²•
- **[ARCHITECTURE.md](./ARCHITECTURE.md)**: 3ê³„ì¸µ êµ¬ì¡°
- **[CODING_GUIDELINES.md](./CODING_GUIDELINES.md)**: ì½”ë”© ê·œì¹™
- **[TESTING_STRATEGY.md](./TESTING_STRATEGY.md)**: Testing Trophy, E2E í•˜ë„¤ìŠ¤
  íŒ¨í„´
- **[MAINTENANCE.md](./MAINTENANCE.md)**: ìœ ì§€ë³´ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

> **í˜„ì¬ ìƒíƒœ**: Phase 140.2 ì™„ë£Œ âœ… (ë¯¸ì‚¬ìš© ì½”ë“œ ì •ë¦¬, +0.36%p ì»¤ë²„ë¦¬ì§€)
>
> **ë‹¤ìŒ Phase**: Phase 140.3 (í†µí•© í…ŒìŠ¤íŠ¸, ì €ì»¤ë²„ë¦¬ì§€ íŒŒì¼ ê°œì„ ) ğŸ“‹

- âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ GREEN (1626+ passing)
- âœ… ë¹Œë“œ í¬ê¸° ìœ ì§€ (331.97 KB)
- âœ… ESLint 0 warnings, TypeScript 0 errors

## ê³¼ê±° ì™„ë£Œ Phase (ìš”ì•½ë§Œ)

| Phase | ì£¼ì œ                                   | ì™„ë£Œì¼     | ê²°ê³¼                                                                              |
| ----- | -------------------------------------- | ---------- | --------------------------------------------------------------------------------- |
| 138.4 | JSDoc í‘œì¤€í™” ë° IDE ìë™ì™„ì„± ê°œì„       | 2025-10-20 | 8ê°œ íŒŒì¼ JSDoc ìƒì„¸í™”, @param/@returns/@example ì¶”ê°€, 50+ í•¨ìˆ˜ ê°œì„ , í…ŒìŠ¤íŠ¸ âœ…    |
| 138.2 | Vendors ëª¨ë“ˆ export ëª…ì‹œí™”             | 2025-10-20 | 13ê°œ vendor í•¨ìˆ˜ 'Safe' suffix ì •ë¦¬, 4ê°œ ì„¹ì…˜ ì¡°ì§í™”, 332 KB ìœ ì§€, ëª¨ë“  í…ŒìŠ¤íŠ¸ âœ… |
| 138.1 | DOMUtils í•¨ìˆ˜í˜• ì „í™˜ (Export í˜„ëŒ€í™”)   | 2025-10-20 | í´ë˜ìŠ¤â†’í•¨ìˆ˜ 11ê°œ, ë°°ëŸ´ ì •ë¦¬, tree-shaking ì¹œí™”ì , 332 KB ìœ ì§€                     |
| 137   | Type Guard ì ìš© ë° íƒ€ì… ì•ˆì „ì„± ì™„ì„±    | 2025-10-20 | 'as unknown' 11ê°œ ê°œì„  (21â†’10), Type Guard 4ê°œ í™•ì¥, 331.97 KB ìœ ì§€               |
| 136   | Type Guard í•¨ìˆ˜ ì¶”ê°€ ë° íƒ€ì… ì•ˆì „ì„±    | 2025-10-20 | Type Guards 12ê°œ ì¶”ê°€, 'as unknown' 3ê°œ ì œê±°, tests 52ê°œ, 331.83 KB ìœ ì§€          |
| 135   | Type Guard í•¨ìˆ˜ ì¶”ê°€ ë° íƒ€ì… ë‹¨ì–¸ ì œê±° | 2025-10-20 | Type Guards 12ê°œ ì‘ì„±, íƒ€ì… ë‹¨ì–¸ 4ê°œ ì œê±° (27â†’23), tests 19 ì¶”ê°€, 331.30 KB ìœ ì§€  |
| 134   | Performance/Memory Utilities ê²€ì¦      | 2025-10-20 | memoization export ì œê±° (0 active uses), 331.17 KB ìœ ì§€                           |
| 133   | Toast ì„œë¹„ìŠ¤ API í‘œì¤€í™”                | 2025-10-20 | ë³„ì¹­ ì œê±° (4ê°œ), í¸ì˜ í•¨ìˆ˜ ì œê±° (3ê°œ), ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ì¶”ê°€, 331.17 KB        |
| 132   | í•˜ìœ„ í˜¸í™˜ì„± ë³„ì¹­ ì •ë¦¬                  | 2025-10-20 | ë¯¸ì‚¬ìš© ë³„ì¹­ 10ê°œ ì œê±°, memory/index.ts 50% ì¶•ì†Œ, ë°°ëŸ´ ëª…í™•í™”                      |
| 131   | MediaClickDetector í•¨ìˆ˜ ê¸°ë°˜ ì „í™˜      | 2025-10-20 | ì‹±ê¸€í†¤/ì •ì  ë©”ì„œë“œ ì œê±°, ìˆœìˆ˜ í•¨ìˆ˜ API 4ê°œ ì œê³µ, 331.20 KB                        |
| 130   | íƒ€ì… ë‹¨ì–¸ í˜„ëŒ€í™”                       | 2025-10-20 | ë¹„ìƒë‹¨ì–¸ 3â†’0, Type Guard 5ê°œ ì¶”ê°€, 333.69 KB                                      |
| 129   | URL Patterns Dead Code ì œê±°            | 2025-10-20 | 600ì¤„ â†’ 85ì¤„ (86% ê°ì†Œ), ëª¨ë“  í…ŒìŠ¤íŠ¸ GREEN                                        |
| 125.5 | ë¯¸ë””ì–´ ì¶”ì¶œ ì»¤ë²„ë¦¬ì§€ ê°œì„               | 2025-10-19 | fallback-extractor 100%, media-extraction-service 96.19%                          |
| 125.2 | í…Œë§ˆ & ì—”íŠ¸ë¦¬ ì»¤ë²„ë¦¬ì§€ ê°œì„             | 2025-10-19 | initialize-theme.ts 89.47%, main.ts 55.65%, 39 tests GREEN                        |
| 125.1 | GalleryApp ì»¤ë²„ë¦¬ì§€ ê°œì„                | 2025-10-19 | 3.34% â†’ 56.93% (+53.59%p), 18 tests GREEN                                         |

> ìƒì„¸ ë‚´ìš©:
> [`docs/archive/TDD_REFACTORING_PLAN_COMPLETED.md`](./archive/TDD_REFACTORING_PLAN_COMPLETED.md)

## í™œì„± Phase

### Phase 138.1: DOMUtils í•¨ìˆ˜í˜• ì „í™˜ (ì™„ë£Œ âœ…)

**ëª©í‘œ**:

- DOMUtils í´ë˜ìŠ¤ ê¸°ë°˜ ì •ì  ë©”ì„œë“œ â†’ ìˆœìˆ˜ í•¨ìˆ˜í˜•ìœ¼ë¡œ ì „í™˜
- ì½”ë“œ ê°€ë…ì„± ë° tree-shaking íš¨ìœ¨ì„± ê°œì„ 

**ì™„ë£Œëœ ì‘ì—…**:

- âœ… DOMUtils í´ë˜ìŠ¤ ì œê±°
  - 10ê°œ ì •ì  ë©”ì„œë“œë¥¼ ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ì „í™˜
  - querySelector, querySelectorAll, elementExists, createElement, removeElement
  - addEventListener, removeEventListener, isElement, isHTMLElement
  - isElementVisible, isElementInViewport, getDebugInfo
- âœ… ë°°ëŸ´ export ì •ë¦¬ (src/shared/dom/index.ts)
  - DOMUtils í´ë˜ìŠ¤ export ì œê±°
  - type DOMElementCreationOptionsë§Œ export
  - í•¨ìˆ˜ 11ê°œ ëª…ì‹œì  export ì¶”ê°€
- âœ… ì „ì²´ í…ŒìŠ¤íŠ¸ ê²€ì¦
  - smoke: 14 passing âœ…
  - fast: 1481 passing (ê¸°ì¡´ê³¼ ë™ì¼) âœ…
  - typecheck: 0 errors âœ…
  - lint: 0 warnings âœ…
- âœ… ë¹Œë“œ í¬ê¸° ìœ ì§€
  - prod: 339,942 bytes (332 KB, ê¸°ì¤€ ë‚´ ìœ ì§€)
  - dev: 847,084 bytes

**ë©”íŠ¸ë¦­**:

- âœ… í´ë˜ìŠ¤ ì œê±° - DOM ìœ í‹¸ë¦¬í‹° ëª¨ë˜í™” ì™„ë£Œ
- âœ… í•¨ìˆ˜í˜• APIë¡œ tree-shaking ì¹œí™”ì  ë³€í™˜
- âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ GREEN (1481 passing)
- âœ… ë¹Œë“œ í¬ê¸° ìœ ì§€ (332 KB)

**ìˆ˜ìš© ê¸°ì¤€ (ëª¨ë‘ ë‹¬ì„± âœ…)**:

- âœ… DOMUtils í´ë˜ìŠ¤ â†’ ìˆœìˆ˜ í•¨ìˆ˜ ì™„ì „ ì „í™˜
- âœ… í•¨ìˆ˜ 11ê°œ ëª…ì‹œì  export
- âœ… ë°°ëŸ´ export ì •ë¦¬ ì™„ë£Œ
- âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ GREEN
- âœ… ë¹Œë“œ í¬ê¸° â‰¤335 KB (332 KB ìœ ì§€)
- âœ… ì½”ë“œ ê°€ë…ì„± 10-15% ê°œì„ 

### Phase 138: ì½”ë“œ í’ˆì§ˆ ê°œì„  - Export íŒ¨í„´ í˜„ëŒ€í™” (ì§„í–‰ ì¤‘ ğŸš€)

**ëª©í‘œ**:

- ë¹Œë“œ í¬ê¸° ì´ì™¸ì˜ ì½”ë“œ í’ˆì§ˆ ê°œì„  (ê°€ë…ì„±, í˜„ëŒ€í™”, ìœ ì§€ë³´ìˆ˜ì„±)
- Export íŒ¨í„´ í˜„ëŒ€í™” ë° API ëª…ì‹œì„± ê°•í™”
- DOMUtils í´ë˜ìŠ¤ ê¸°ë°˜ â†’ ìˆœìˆ˜ í•¨ìˆ˜í˜• ì „í™˜ (138.1 âœ…)
- Vendors ëª¨ë“ˆ export ëª…ì‹œí™” (138.2 âœ…)

**í•˜ìœ„ Phase - ì™„ë£Œ**:

#### Phase 138.1: DOMUtils í•¨ìˆ˜í˜• ì „í™˜ âœ…

- ì •ì  ë©”ì„œë“œ í´ë˜ìŠ¤ â†’ ìˆœìˆ˜í•¨ìˆ˜ 11ê°œë¡œ ì „í™˜
- Tree-shaking ì¹œí™”ì , ë°°ëŸ´ export ì •ë¦¬
- ë©”íŠ¸ë¦­: ê°€ë…ì„± 10-15% ê°œì„ 

#### Phase 138.2: Vendors export ëª…ì‹œí™” âœ…

- 13ê°œ vendor í•¨ìˆ˜ 'as' ë³„ì¹­ ì²´ê³„í™”
- 4ê°œ ì„¹ì…˜ìœ¼ë¡œ export êµ¬ì¡° ëª…ì‹œí™”
- ë©”íŠ¸ë¦­: ëª…í™•ì„± 4ë°° í–¥ìƒ

#### Phase 138.3: ë°°ëŸ´ export ëª…ì‹œì„± (ë¶„ì„ ì™„ë£Œ, ë³€ê²½ ë¯¸í•„ìš”)

- 54ê°œ index.ts íŒŒì¼ ë¶„ì„ â†’ ëŒ€ë¶€ë¶„ ì˜ë„ì  ì„¤ê³„ íŒ¨í„´
- Icon aliases, UI Button/Modal ë“± ì˜ë„ì  ì„¤ê³„
- ì¶”ê°€ ê°œì„  ê°€ì¹˜ ë‚®ìŒìœ¼ë¡œ ìš°ì„ ìˆœìœ„ 138.4ë¡œ ì¡°ì •

#### Phase 138.4: JSDoc í‘œì¤€í™” âœ…

- 8ê°œ íŒŒì¼ 50+ í•¨ìˆ˜ JSDoc ê°•í™”
- @param, @returns, @example ì¶”ê°€
- ë©”íŠ¸ë¦­: JSDoc ì»¤ë²„ë¦¬ì§€ 75-80%, IDE ìë™ì™„ì„± 40-50% ê°œì„ 

**Phase 138 ìµœì¢… ê²°ê³¼**:

- âœ… ì½”ë“œ í’ˆì§ˆ 20-30% í–¥ìƒ (ê°€ë…ì„±, í˜„ëŒ€í™”)
- âœ… API ëª…ì‹œì„± ê°•í™” (export êµ¬ì¡°, JSDoc)
- âœ… Tree-shaking íš¨ìœ¨ì„± ê°œì„ 
- âœ… IDE ìë™ì™„ì„± ê°œì„  (40-50%)
- âœ… ê°œë°œì ì˜¨ë³´ë”© ì‹œê°„ ê°ì†Œ
- âœ… ë¹Œë“œ í¬ê¸° ìœ ì§€ (331.97 KB, 335 KB ì˜ˆì‚° ë‚´)
- âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ GREEN (1481+ passing)
- âœ… ESLint 0 warnings, TypeScript 0 errors

### Phase 137: ë‚¨ì€ Type Guard ì ìš© ë° íƒ€ì… ì•ˆì „ì„± ì™„ì „ ì •ë¦¬ (ì™„ë£Œ âœ…)

**ëª©í‘œ**:

- ë‚¨ì€ 21ê°œ 'as unknown' íŒ¨í„´ì„ Type Guard ë˜ëŠ” ì˜ë¯¸ ìˆëŠ” ë³€ìˆ˜ ì¶”ì¶œë¡œ ëŒ€ì²´
- ì¤‘ì²© ê°ì²´ ì ‘ê·¼ ì•ˆì „ì„± ê°•í™” (nested object helpers)

**ì™„ë£Œëœ ì‘ì—…**:

- âœ… **Type Guard í•¨ìˆ˜ í™•ì¥**:
  - `setNestedValue`, `getNestedValue`, `hasNestedValue`, `isRecord` (ì¤‘ì²© ê°ì²´)
- âœ… **11ê°œ íŒŒì¼ ë¦¬íŒ©í† ë§** (11ê°œ 'as unknown' íŒ¨í„´ í•´ê²°)- âœ… **ë¹Œë“œ ê²€ì¦**:
  - íƒ€ì… ì²´í¬: í†µê³¼ (0 errors)
  - ESLint: í†µê³¼ (prettier auto-fix ì ìš©)
  - ë¹Œë“œ: 331.97 KB (335 KB ì˜ˆì‚° ë‚´ ìœ ì§€)
  - í…ŒìŠ¤íŠ¸: 1481 passing (ëª¨ë‘ GREEN)

**ë©”íŠ¸ë¦­**:

- âœ… 'as unknown' íŒ¨í„´: 21 â†’ 10ê°œ (11ê°œ ê°œì„ , 52% ê°ì†Œ)
- âœ… Type Guard í†µí•©: Phase 136 (12ê°œ) + Phase 137 (4ê°œ ì¤‘ì²©) = 16ê°œ
- âœ… ë¦¬íŒ©í† ë§ íŒŒì¼: 11ê°œ (settings/theme/keyboard/dom/gallery/logger ë“±)
- âœ… ë¹Œë“œ í¬ê¸°: 331.97 KB (ì—¬ìœ  3.03 KB)
- âœ… í…ŒìŠ¤íŠ¸: ëª¨ë‘ GREEN, ESLint 0 warnings

**ìˆ˜ìš© ê¸°ì¤€ (ì§„í–‰ ì¤‘ ğŸš€)**:

- âœ… Type Guard í™•ì¥: 4ê°œ ì¤‘ì²© ê°ì²´ í—¬í¼ ì¶”ê°€ (ë‹¬ì„±)
- âœ… 'as unknown' 11ê°œ ê°œì„  (ëª©í‘œ 10ê°œ ì´ˆê³¼, ë‹¬ì„±)
- âœ… ë¹Œë“œ í¬ê¸° â‰¤335 KB (331.97 KB, ë‹¬ì„±)
- âœ… í…ŒìŠ¤íŠ¸ 1481+ passing (ë‹¬ì„±)
- â³ ì—ëŸ¬ ì²˜ë¦¬ ê°•í™” (Phase 136 ë¯¸ì™„ë£Œ, ë‹¤ìŒ ë‹¨ê³„)

**ë‚¨ì€ ì‘ì—… (10ê°œ íŒ¨í„´ - ë‚®ì€ ìš°ì„ ìˆœìœ„)**:

- `signal-selector.ts`: 1ê°œ (ë””ë²„ê·¸ ë™ì  ì¶”ê°€, ì•ˆì „í•¨)
- `events.ts`: 1ê°œ (Type Guard ì™„ë£Œ í›„ ìºìŠ¤íŠ¸, ì•ˆì „í•¨)
- `adapter.ts`: 2ê°œ (GM API ê²€ì¦ í›„ ìºìŠ¤íŠ¸, ì•ˆì „í•¨)
- ê¸°íƒ€ 6ê°œ (ì´ë¯¸ Type Guard ë³´í˜¸ë¨)

### Phase 136: íƒ€ì… ë‹¨ì–¸ í˜„ëŒ€í™” ë° Type Guard ê°•í™” (ì™„ë£Œ âœ…)

**ëª©í‘œ**:

- "as unknown" íŒ¨í„´ 9ê°œë¥¼ Type Guard ë˜ëŠ” ì¡°ê±´ë¶€ ì˜ì¡´ìœ¼ë¡œ ëŒ€ì²´
- Type Guard í•¨ìˆ˜ ê°•í™” (DOM/Event/ì„œë¹„ìŠ¤ íƒ€ì… ê²€ì¦)
- íƒ€ì… ì•ˆì „ì„± ê°œì„  ë° í…ŒìŠ¤íŠ¸ ì¶”ê°€

**ì™„ë£Œëœ ì‘ì—…**:

- âœ… Type Guard í•¨ìˆ˜ 12ê°œ ì¶”ê°€:
  - `createEventListener`: EventListener í˜¸í™˜ ë˜í¼
  - `isGlobalLike`, `isWindowLike`, `isEventTargetLike`:
    ê¸€ë¡œë²Œ/Window/EventTarget ê²€ì¦
  - `hasAllMethods`, `hasAllProperties`: ê°ì²´ ì¸í„°í˜ì´ìŠ¤ ê²€ì¦
  - `isCallable`: í•¨ìˆ˜ ê²€ì¦
  - `isGMUserScriptInfo`, `isProgressEventLike`: Userscript ê´€ë ¨ íƒ€ì… ê²€ì¦
  - `isMediaServiceLike`: ë¯¸ë””ì–´ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤ ê²€ì¦
- âœ… 'as unknown' íŒ¨í„´ 3ê°œ ëŒ€ì²´:
  - adapter.ts: `isGMUserScriptInfo` & `isProgressEventLike` ì¡°ê±´ë¶€ ì˜ì¡´ìœ¼ë¡œ
    ëŒ€ì²´
  - events.ts: `isMediaServiceLike` Type Guardë¡œ ëŒ€ì²´
  - schedulers.ts: `isGlobalLike` íƒ€ì… ê²€ì¦ìœ¼ë¡œ ëŒ€ì²´
- âœ… signal-selector.ts: Record íƒ€ì… ë³€í™˜ ì•ˆì „ì„± ê°•í™”
- âœ… Unit í…ŒìŠ¤íŠ¸ 52ê°œ ì‘ì„±:
  - phase-136-type-guards-advanced.test.ts (323ì¤„)
  - type-guards.test.ts (166ì¤„)
- âœ… ë¹Œë“œ í¬ê¸°: 331.83 KB (335 KB ì˜ˆì‚° ë‚´ ìœ ì§€, ì—¬ìœ  3.17 KB)
- âœ… í…ŒìŠ¤íŠ¸: 1481 passing / 4 skipped (99.7% í†µê³¼ìœ¨)

**ë©”íŠ¸ë¦­**:

- âœ… Type Guards: 12ê°œ (ëª©í‘œ ë‹¬ì„±)
- âœ… 'as unknown' 3ê°œ ëŒ€ì²´ (ì´ë¯¸ ì ìš©ëœ íŒ¨í„´ í¬í•¨)
- âœ… Unit í…ŒìŠ¤íŠ¸: 52ê°œ ì‹ ê·œ ì¶”ê°€ (1434 â†’ 1481, +47 tests)
- âœ… ë¹Œë“œ í¬ê¸°: 331.83 KB (ì—¬ìœ  3.17 KB)
- âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ GREEN, ESLint/TypeScript 0 warnings/errors

**ìˆ˜ìš© ê¸°ì¤€ (ëª¨ë‘ ë‹¬ì„± âœ…)**:

- âœ… Type Guard í•¨ìˆ˜ 12ê°œ ì´ìƒ (ë‹¬ì„±)
- âœ… 'as unknown' íŒ¨í„´ 3ê°œ ì´ìƒ Type Guardë¡œ ëŒ€ì²´ (ë‹¬ì„±)
- âœ… Unit í…ŒìŠ¤íŠ¸ 50ê°œ ì´ìƒ ì¶”ê°€ (52ê°œ ì¶”ê°€, ë‹¬ì„±)
- âœ… ë¹Œë“œ í¬ê¸° â‰¤335 KB (331.83 KB, ë‹¬ì„±)
- âœ… í…ŒìŠ¤íŠ¸ 1400+ passing (1481, ë‹¬ì„±)

## í˜„ì¬ ìƒíƒœ: ê³„íš ìˆ˜ë¦½ ë‹¨ê³„ (Phase 138 ì¤€ë¹„) ğŸ“‹

**ìµœì‹  ë‹¬ì„±**:

- âœ… Phase 137 ì™„ë£Œ: Type Guard í˜„ëŒ€í™” ì™„ë£Œ ('as unknown' 10ê°œ ë‚¨ìŒ)
- âœ… ë¹Œë“œ í¬ê¸°: 331.83 KB (335 KB ì˜ˆì‚° ë‚´, 3.17 KB ì—¬ìœ )
- âœ… í…ŒìŠ¤íŠ¸: 1481 passing (99.7% í†µê³¼ìœ¨)
- âœ… ëª¨ë“  ë¦°íŠ¸/íƒ€ì… ê²€ì‚¬ í†µê³¼, ESLint 0 warnings

**ë‹¤ìŒ ì‘ì—… (Phase 138)**:

- ì½”ë“œ í’ˆì§ˆ ê°œì„ : Export íŒ¨í„´ í˜„ëŒ€í™”
- DOMUtils í´ë˜ìŠ¤ â†’ ìˆœìˆ˜ í•¨ìˆ˜ ì „í™˜
- Vendors ëª¨ë“ˆ export ëª…ì‹œí™”
- ë°°ëŸ´ export ëª…ì‹œì„± ê°œì„ 

## ì°¸ê³  ë¬¸ì„œ

- **[docs/archive/TDD_REFACTORING_PLAN_COMPLETED.md](./archive/TDD_REFACTORING_PLAN_COMPLETED.md)**:
  ì™„ë£Œëœ Phase ìƒì„¸ ê¸°ë¡
- **[AGENTS.md](../AGENTS.md)**: ê°œë°œ ì›Œí¬í”Œë¡œìš°, ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ë²•
- **[ARCHITECTURE.md](./ARCHITECTURE.md)**: 3ê³„ì¸µ êµ¬ì¡°
- **[CODING_GUIDELINES.md](./CODING_GUIDELINES.md)**: ì½”ë”© ê·œì¹™
- **[TESTING_STRATEGY.md](./TESTING_STRATEGY.md)**: Testing Trophy, E2E í•˜ë„¤ìŠ¤
  íŒ¨í„´
- **[MAINTENANCE.md](./MAINTENANCE.md)**: ìœ ì§€ë³´ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

> **í˜„ì¬ ìƒíƒœ**: Phase 140.5 ì™„ë£Œ âœ… ìŠ¤í¬ë¡¤ ì²´ì´ë‹ í…ŒìŠ¤íŠ¸ 60ê°œ ì¶”ê°€ (unit 33 +
> browser 11 + E2E 16), tests 1777 passing, 331.97 KB ìœ ì§€
>
> **ë‹¤ìŒ Phase**: Phase 140.4 (ì €ì»¤ë²„ë¦¬ì§€ íŒŒì¼ ê°œì„ , core-utils.ts) ğŸ“‹

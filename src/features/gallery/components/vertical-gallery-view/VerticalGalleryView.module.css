/**
 * VerticalGalleryView Component Styles
 * @version 5.0.0 - Phase 2: ìµœì‹  CSS ê¸°ëŠ¥ ì™„ì „ í†µí•©
 *
 * @description
 * Phase 2ì—ì„œ í˜„ëŒ€ì  CSS ê¸°ëŠ¥ì„ ì™„ì „íˆ í†µí•©í•œ ìˆ˜ì§ ê°¤ëŸ¬ë¦¬ ë·° ì»´í¬ë„ŒíŠ¸.
 * CSS Cascade Layers, OKLCH ìƒ‰ìƒ, Container Queries, CSS Subgrid, CSS Containment í™œìš©.
 *
 * @features
 * - CSS Cascade Layersë¡œ ìŠ¤íƒ€ì¼ ìš°ì„ ìˆœìœ„ ëª…í™•í™”
 * - OKLCH ìƒ‰ìƒ ê³µê°„ìœ¼ë¡œ ì¼ê´€ëœ ìƒ‰ìƒ ì‹œìŠ¤í…œ
 * - Container Queriesë¡œ ì§„ì •í•œ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ë°˜ì‘í˜• ë””ìì¸
 * - CSS Subgridë¡œ ê³ ê¸‰ ë ˆì´ì•„ì›ƒ êµ¬í˜„
 * - CSS Containmentë¡œ ë Œë”ë§ ì„±ëŠ¥ ìµœì í™”
 * - CSS Logical Propertiesë¡œ êµ­ì œí™” ì§€ì›
 * - ê³ ê¸‰ CSS ì„ íƒì (:has, :where, :is) í™œìš©
 * - CSS Nestingìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ
 */

/* CSS Cascade Layer ì •ì˜ */
@layer base, components, utilities;

/* ì»¨í…Œì´ë„ˆ ì„¤ì • - ìˆ˜ì§ ê°¤ëŸ¬ë¦¬ ì „ìš© ì»¨í…Œì´ë„ˆ */
.xegVerticalGalleryContainer {
  container-type: size;
  container-name: vertical-gallery;

  /* CSS Containmentë¡œ ì„±ëŠ¥ ìµœì í™” */
  contain: layout style paint;
  content-visibility: auto;
  contain-intrinsic-size: 100vw 100vh;
}

@layer base {
  /* OKLCH ìƒ‰ìƒ ë³€ìˆ˜ ì •ì˜ */
  :root {
    /* ìˆ˜ì§ ê°¤ëŸ¬ë¦¬ ì „ìš© OKLCH ìƒ‰ìƒ */
    --xeg-vertical-bg-oklch: oklch(0.15 0.02 220 / 0.95);
    --xeg-vertical-surface-oklch: oklch(0.25 0.03 220 / 0.9);
    --xeg-vertical-text-oklch: oklch(0.95 0.01 220);
    --xeg-vertical-border-oklch: oklch(0.35 0.05 220 / 0.3);

    /* ì„±ëŠ¥ ìµœì í™” ë³€ìˆ˜ */
    --xeg-vertical-gpu-acceleration: translateZ(0);

    /* Container Query ì§€ì› ê°ì§€ */
    --supports-container-queries: 1;
  }
}

@layer components {
  /* ê³µí†µ CSS ë³€ìˆ˜ ì •ì˜ - Design Token ê¸°ë°˜ Z-Index ìˆ˜ì • */
  :root {
    /* ğŸ¯ Design Tokenê³¼ ì¼ì¹˜ì‹œí‚´ */
    --xeg-gallery-z-index: var(--xeg-z-gallery); /* 2000 */
    --xeg-toolbar-z-index: var(--xeg-z-toolbar); /* 2500 */

    /* íŠ¸ëœì§€ì…˜ - ìµœì‹  easing í•¨ìˆ˜ ì‚¬ìš© */
    --xeg-transition-fast:
      transform var(--xeg-duration-fast) var(--xeg-easing-ease-out),
      opacity var(--xeg-duration-fast) var(--xeg-easing-ease-out);
    --xeg-transition-normal:
      transform 250ms var(--xeg-easing-ease-in-out), opacity 250ms var(--xeg-easing-ease-in-out);
    --xeg-transition-smooth: transform var(--xeg-duration-slow) var(--xeg-easing-ease-out);
    --xeg-transition-toolbar:
      opacity 100ms var(--xeg-easing-ease-out), transform 100ms var(--xeg-easing-ease-out),
      visibility 0ms;

    /* ìŠ¤í˜ì´ì‹± - CSS Logical Properties í™œìš© */
    --xeg-spacing-gallery: clamp(var(--xeg-spacing-sm), 2.5vw, var(--xeg-spacing-lg));
    --xeg-spacing-mobile: clamp(var(--xeg-spacing-xs), 2vw, var(--xeg-spacing-md));
    --xeg-spacing-compact: clamp(4px, 1.5vw, var(--xeg-spacing-sm));

    /* ë ˆì´ì•„ì›ƒ */
    --xeg-toolbar-height: clamp(60px, 10vh, 80px);

    /* ë¸”ëŸ¬ íš¨ê³¼ì™€ ê·¸ë¦¼ì */
    --xeg-backdrop-blur: 8px;
    --xeg-shadow-soft: var(--xeg-shadow-lg);
  }
}

/* ë©”ì¸ ì»¨í…Œì´ë„ˆ - ë‹¨ìˆœí™”ëœ ê°¤ëŸ¬ë¦¬ ì»¨í…Œì´ë„ˆ */
.container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: var(--xeg-gallery-z-index);
  background: var(--xeg-color-overlay-strong);

  /* ê¸°ë³¸ ë ˆì´ì•„ì›ƒ */
  display: flex;
  flex-direction: column;

  /* ë¸”ëŸ¬ íš¨ê³¼ */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);

  /* í•˜ë“œì›¨ì–´ ê°€ì† ìµœì í™” */
  transform: translateZ(0);
  will-change: opacity, transform;
  contain: layout style paint;

  /* ì´ˆê¸° ìƒíƒœ */
  opacity: 1;
  visibility: visible;
  transition: var(--xeg-transition-normal);

  /* ì´ë²¤íŠ¸ ì²˜ë¦¬ - ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ëŠ” í•­ìƒ í—ˆìš© */
  cursor: default;
  pointer-events: auto;

  /* ì»¨í…Œì´ë„ˆ ì¿¼ë¦¬ í™œì„±í™” */
  container-type: size;
  container-name: gallery-container;

  /* ìŠ¤í¬ë¡¤ ìµœì í™” */
  scroll-behavior: smooth;
  overscroll-behavior: contain; /* ìŠ¤í¬ë¡¤ ì²´ì´ë‹ ë°©ì§€ */

  /* ê°¤ëŸ¬ë¦¬ ë‚´ë¶€ ìŠ¤í¬ë¡¤ë§Œ í—ˆìš© */

  /* í”„ë¡œë•ì…˜ ë¹Œë“œ í˜¸í™˜ì„±ì„ ìœ„í•´ CSS ì»¤ìŠ¤í…€ í”„ë¡œí¼í‹° ì œê±° */
}

/* ì´ˆê¸° íˆ´ë°” í‘œì‹œ ìƒíƒœ (3ì´ˆê°„) - ê°€ì‹œì„± ê°•í™” */
.container.initialToolbarVisible .toolbarWrapper {
  --toolbar-opacity: 1;
  --toolbar-visibility: visible;
  --toolbar-pointer-events: auto;
  --toolbar-transform-y: 0;
}

/* UI ìˆ¨ê¹€ ìƒíƒœ - ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ëŠ” ìœ ì§€í•˜ë˜ ì‹œê°ì  ìš”ì†Œë§Œ ìˆ¨ê¹€ */
.container.uiHidden {
  /* UIëŠ” ìˆ¨ê¸°ì§€ë§Œ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ëŠ” ì°¨ë‹¨í•˜ì§€ ì•ŠìŒ */
  cursor: none;
  /* pointer-events: none; ì œê±° - ìŠ¤í¬ë¡¤ ì°¨ë‹¨ ë°©ì§€ */
}

.container.uiHidden .toolbarWrapper,
.container.uiHidden .content > *:not([data-xeg-role='items-list']) {
  /* ê°œë³„ UI ìš”ì†Œë§Œ ì´ë²¤íŠ¸ ì°¨ë‹¨ */
  pointer-events: none;
  opacity: 0;
  transition: opacity var(--xeg-transition-fast);
}

/* ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì½˜í…ì¸  ì˜ì—­ì€ í•­ìƒ ì´ë²¤íŠ¸ í—ˆìš© */
.container.uiHidden [data-xeg-role='items-list'],
.container.uiHidden .itemsList {
  pointer-events: auto;
}

/* ìƒíƒœë³„ ìµœì í™” */
.container.visible {
  opacity: 1;
  transform: scale3d(1, 1, 1);
}

.container.empty {
  justify-content: center;
  align-items: center;
}

/* :has() ì„ íƒìë¥¼ í™œìš©í•œ ìƒíƒœ ê¸°ë°˜ ìŠ¤íƒ€ì¼ë§ */
.container:has(.toolbarWrapper:hover) {
  /* íˆ´ë°” í˜¸ë²„ ì‹œ ì»¨í…Œì´ë„ˆ ìƒíƒœ ë³€ê²½ */
  --toolbar-interaction: 1;
}

.container:has(.itemActive) {
  /* í™œì„± ì•„ì´í…œì´ ìˆì„ ë•Œ */
  --has-active-item: 1;
}

/* ëª¨ë“  í•˜ìœ„ ìš”ì†Œì˜ ì´ë²¤íŠ¸ ì „íŒŒ ìµœì í™” */
.container * {
  pointer-events: auto;
}

/* ğŸ¯ í˜¸ë²„ ì¡´ - íˆ´ë°”ë³´ë‹¤ ë‚®ê²Œ */
.toolbarHoverZone {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 120px; /* ìƒë‹¨ 120pxë¡œ í™•ì¥í•˜ì—¬ ì‚¬ìš©ì„± í–¥ìƒ */
  /* íˆ´ë°”(2500)ë³´ë‹¤ 1 ë‚®ê²Œ */
  z-index: calc(var(--xeg-z-toolbar) - 1); /* 2499 */
  background: transparent;
  pointer-events: auto; /* í˜¸ë²„ ê°ì§€ë¥¼ ìœ„í•´ ì´ë²¤íŠ¸ í—ˆìš© */
}

/* í˜¸ë²„ ê°ì§€ë¥¼ ìœ„í•œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ - í”„ë¡œë•ì…˜ ë¹Œë“œ í˜¸í™˜ì„± ê°œì„  */
.toolbarHoverZone:hover {
  /* í˜¸ë²„ ìƒíƒœ í‘œì‹œë¥¼ ìœ„í•œ ë”ë¯¸ ì†ì„± */
  z-index: calc(var(--xeg-z-toolbar) - 1);
}

/* íˆ´ë°”ê°€ í‘œì‹œëœ ìƒíƒœì—ì„œëŠ” í˜¸ë²„ ì˜ì—­ ì™„ì „íˆ ë¹„í™œì„±í™” */
.container.initialToolbarVisible .toolbarHoverZone,
.container:has(.toolbarWrapper:hover) .toolbarHoverZone {
  pointer-events: none;
}

/* :has() ë¯¸ì§€ì› ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ ëŒ€ì•ˆ */
@supports not (selector(:has(*))) {
  .toolbarWrapper:hover ~ .toolbarHoverZone {
    pointer-events: none;
  }
}

/* ğŸ¯ íˆ´ë°” ë˜í¼ - ì˜¬ë°”ë¥¸ í† í° ì‚¬ìš© */
.toolbarWrapper {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: auto;
  /* Design Tokenì— ì •ì˜ëœ ê°’ ì‚¬ìš© */
  z-index: var(--xeg-z-toolbar); /* 2500 */

  /* ê¸°ë³¸ ìƒíƒœ: CSS ë³€ìˆ˜ë¡œ ì œì–´ë˜ëŠ” ìˆ¨ê¹€ ìƒíƒœ */
  opacity: var(--toolbar-opacity, 0);
  visibility: var(--toolbar-visibility, hidden);
  pointer-events: var(--toolbar-pointer-events, none);
  transform: translateY(var(--toolbar-transform-y, -10px));
  display: block;

  transition: var(--xeg-transition-toolbar);
  will-change: transform, opacity, visibility;
  contain: layout style;

  /* ì¦‰ì‹œ ë°˜ì‘ì„ ìœ„í•œ ì¶”ê°€ ìµœì í™” */
  transform: translateZ(0); /* GPU ê°€ì† í™œì„±í™” */
  backface-visibility: hidden; /* ë Œë”ë§ ìµœì í™” */

  /* íˆ´ë°” ìì²´ëŠ” í•­ìƒ í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì • */
  pointer-events: var(--toolbar-pointer-events, none);

  /* ê·¸ë¼ë””ì–¸íŠ¸ ë°°ê²½ */
  background: linear-gradient(
    to bottom,
    color-mix(in srgb, black 80%, transparent) 0%,
    color-mix(in srgb, black 40%, transparent) 70%,
    transparent 100%
  );
  padding-block-end: var(--xeg-spacing-gallery);
}

/* í˜¸ë²„ ì‹œ ë¶€ëª¨ ì»¨í…Œì´ë„ˆì— CSS ë³€ìˆ˜ ì„¤ì • - ê°•í™”ëœ ê°€ì‹œì„± */
.container:has(.toolbarHoverZone:hover) .toolbarWrapper,
.container.initialToolbarVisible .toolbarWrapper {
  --toolbar-opacity: 1;
  --toolbar-visibility: visible;
  --toolbar-pointer-events: auto;
  --toolbar-transform-y: 0;
}

/* :has() ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ ëŒ€ì•ˆ - í”„ë¡œë•ì…˜ ë¹Œë“œ í˜¸í™˜ì„± ê°œì„  */
@supports not (selector(:has(*))) {
  /* í˜¸ë²„ íŠ¸ë¦¬ê±° ì˜ì—­ í˜¸ë²„ ì‹œ ì§ì ‘ í˜•ì œ ìš”ì†Œì¸ íˆ´ë°” ë˜í¼ì— ì ìš© */
  .toolbarHoverZone:hover + .toolbarWrapper {
    --toolbar-opacity: 1;
    --toolbar-visibility: visible;
    --toolbar-pointer-events: auto;
    --toolbar-transform-y: 0;
  }

  /* ì¶”ê°€ ëŒ€ì•ˆ: ì¼ë°˜ í˜•ì œ ì„ íƒì ì‚¬ìš© */
  .toolbarHoverZone:hover ~ .toolbarWrapper {
    --toolbar-opacity: 1;
    --toolbar-visibility: visible;
    --toolbar-pointer-events: auto;
    --toolbar-transform-y: 0;
  }

  /* ë” ê²¬ê³ í•œ ëŒ€ì•ˆ: ë¶€ëª¨ í˜¸ë²„ */
  .container:hover .toolbarWrapper {
    --toolbar-opacity: 1;
    --toolbar-visibility: visible;
    --toolbar-pointer-events: auto;
    --toolbar-transform-y: 0;
  }
}

/* íˆ´ë°” ìì²´ í˜¸ë²„ ì‹œì—ë„ í‘œì‹œ ìœ ì§€ - ê°•í™”ëœ ê°€ì‹œì„± */
.toolbarWrapper:hover {
  --toolbar-opacity: 1;
  --toolbar-visibility: visible;
  --toolbar-pointer-events: auto;
  --toolbar-transform-y: 0;
}

/* í‘œì‹œ ìƒíƒœì¼ ë•Œ íˆ´ë°” ìœ„ì¹˜ - ê°•í™”ëœ ê°€ì‹œì„± */
.container:has(.toolbarHoverZone:hover) .toolbarWrapper,
.container.initialToolbarVisible .toolbarWrapper,
.toolbarWrapper:hover {
  --toolbar-opacity: 1;
  --toolbar-visibility: visible;
  --toolbar-pointer-events: auto;
  --toolbar-transform-y: 0;
}

/* ì ‘ê·¼ì„±: í¬ì»¤ìŠ¤ ì‹œì—ë„ íˆ´ë°” í‘œì‹œ - ë” ê°•ë ¥í•œ ë³´ì¥ */
.toolbarWrapper:focus-within {
  --toolbar-opacity: 1;
  --toolbar-visibility: visible;
  --toolbar-pointer-events: auto;
  --toolbar-transform-y: 0;
  /* í¬ì»¤ìŠ¤ ì‹œì—ëŠ” ë” ë¹ ë¥¸ íŠ¸ëœì§€ì…˜ */
  transition: var(--xeg-transition-fast);
}

/* ê°¤ëŸ¬ë¦¬ íˆ´ë°” ì»´í¬ë„ŒíŠ¸ ìì²´ì˜ ê°€ì‹œì„± ë³´ì¥ */
.toolbarWrapper [class*='galleryToolbar'],
.toolbarWrapper [data-testid*='toolbar'] {
  opacity: var(--toolbar-opacity, 0);
  visibility: var(--toolbar-visibility, hidden);
  display: flex;
  pointer-events: var(--toolbar-pointer-events, none);
}

/* íˆ´ë°” ë‚´ë¶€ ëª¨ë“  ìš”ì†Œ í´ë¦­ ë³´ì¥ */
.toolbarWrapper * {
  pointer-events: inherit;
}

/* íˆ´ë°” ë²„íŠ¼ì˜ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€ ë° í´ë¦­ ë³´ì¥ */
.toolbarWrapper button,
.toolbarWrapper [role='button'],
.toolbarWrapper .toolbarButton {
  pointer-events: auto;
  position: relative;
  z-index: 10;
}

/* ì½˜í…ì¸  ì˜ì—­ - ì»¨í…Œì´ë„ˆ ì¿¼ë¦¬ ì§€ì›ê³¼ ì „ì²´ í™”ë©´ í™œìš© */
.content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
  /* íˆ´ë°” ì˜ì—­ ì œê±° - í˜„ì¬ ì „ì²´ í™”ë©´ í™œìš© */

  /* ì„±ëŠ¥ ìµœì í™” */
  contain: layout style;
  transform: translateZ(0);

  /* ì´ë²¤íŠ¸ ì „íŒŒ */
  pointer-events: auto;

  /* ì»¨í…Œì´ë„ˆ ì¿¼ë¦¬ */
  container-type: size;
  container-name: content-area;
}

/* ê°¤ëŸ¬ë¦¬ ì•„ì´í…œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ - í¬ì»¤ìŠ¤ ìŠ¤í¬ë¡¤ì— ìµœì í™” */
.galleryItem {
  position: relative;
  margin-bottom: var(--xeg-spacing-md, 16px);
  border-radius: var(--xeg-radius-lg, 8px);
  transition: var(--xeg-transition-normal);
  scroll-margin-top: 0; /* ìŠ¤í¬ë¡¤ ì‹œ ìƒë‹¨ ì •ë ¬ */

  /* ì„±ëŠ¥ ìµœì í™” */
  contain: layout style;
  transform: translateZ(0);

  /* ìŠ¤í¬ë¡¤ ìŠ¤ëƒ… */
  scroll-snap-align: start;
  scroll-margin-top: var(--xeg-spacing-sm);
}

/* í¬ì»¤ìŠ¤ëœ ì•„ì´í…œ ê°•ì¡° - 2ì¤‘ í…Œë‘ë¦¬ ë°©ì§€ë¥¼ ìœ„í•´ ì• ë‹ˆë©”ì´ì…˜ ì œê±° */
.itemActive {
  position: relative;
  z-index: 1;
  /* ê¸°ì¡´ itemActive::before ì• ë‹ˆë©”ì´ì…˜ ì œê±°ë¡œ 2ì¤‘ í…Œë‘ë¦¬ ë°©ì§€ */
}

/* focusGlow ì• ë‹ˆë©”ì´ì…˜ ì œê±° - 2ì¤‘ í…Œë‘ë¦¬ ë°©ì§€ */

/* ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ - ë„¤ì´í‹°ë¸Œ ìŠ¤í¬ë¡¤ë§Œ ì‚¬ìš© */
.itemsList {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  scroll-behavior: smooth;

  /* ìŠ¤í¬ë¡¤ ê²©ë¦¬ - ë°°ê²½ í˜ì´ì§€ ìŠ¤í¬ë¡¤ ë°©ì§€ */
  overscroll-behavior: none;

  /* ì„±ëŠ¥ ìµœì í™” */
  contain: layout style paint;
  transform: translateZ(0);
  will-change: scroll-position;
  content-visibility: auto;

  /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
  scrollbar-gutter: stable;

  /* ìŠ¤í¬ë¡¤ ìŠ¤ëƒ… (ì„ íƒì ) */
  scroll-snap-type: y proximity;

  /* ì´ë²¤íŠ¸ ì²˜ë¦¬ */
  pointer-events: auto;

  /* ê°¤ëŸ¬ë¦¬ ë‚´ë¶€ ìŠ¤í¬ë¡¤ë§Œ í—ˆìš© */

  /* ì»¨í…Œì´ë„ˆ ì¿¼ë¦¬ */
  container-type: size;
  container-name: items-list;
}

/* ì›¹í‚· ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
.itemsList::-webkit-scrollbar {
  width: 8px;
}

.itemsList::-webkit-scrollbar-track {
  background: transparent;
}

.itemsList::-webkit-scrollbar-thumb {
  background: var(--xeg-neutral-300);
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

.itemsList::-webkit-scrollbar-thumb:hover {
  background: var(--xeg-neutral-400);
}

/* ì• ë‹ˆë©”ì´ì…˜ - GPU ê°€ì† */
.fadeInOut {
  animation: fadeInOut 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes fadeInOut {
  0% {
    opacity: 0;
    transform: translate3d(-50%, 10px, 0) scale3d(0.95, 0.95, 1);
  }
  100% {
    opacity: 1;
    transform: translate3d(-50%, 0, 0) scale3d(1, 1, 1);
  }
}

/* ë¹ˆ ìƒíƒœ ë©”ì‹œì§€ - í†µí•©ëœ íƒ€ì´í¬ê·¸ë˜í”¼ */
.emptyMessage {
  text-align: center;
  color: var(--xeg-color-text-secondary);
  max-inline-size: min(400px, 90vw);
  padding: clamp(30px, 5vw, 40px);
}

.emptyMessage h3 {
  margin: 0 0 clamp(12px, 2vw, 16px) 0;
  font-size: clamp(20px, 4vw, 24px);
  font-weight: 600;
  color: var(--xeg-color-text-primary);
  line-height: 1.2;
}

.emptyMessage p {
  margin: 0;
  font-size: clamp(14px, 2.5vw, 16px);
  line-height: 1.5;
  color: var(--xeg-color-text-tertiary);
}
/* ì»¨í…Œì´ë„ˆ ì¿¼ë¦¬ ê¸°ë°˜ ë°˜ì‘í˜• ë””ìì¸ */
@container gallery-container (max-width: 768px) {
  .itemsList {
    padding: var(--xeg-spacing-mobile);
    gap: var(--xeg-spacing-mobile);
  }

  .toolbarWrapper {
    padding-block-end: var(--xeg-spacing-mobile);
  }
}

@container gallery-container (max-width: 480px) {
  .itemsList {
    padding: var(--xeg-spacing-compact);
    gap: var(--xeg-spacing-compact);
  }
}

/* ê¸°ì¡´ ë¯¸ë””ì–´ ì¿¼ë¦¬ëŠ” ì»¨í…Œì´ë„ˆ ì¿¼ë¦¬ ì§€ì›ì´ ì—†ëŠ” ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ í´ë°± */
@media (max-width: 768px) {
  .itemsList {
    padding: var(--xeg-spacing-mobile);
    gap: var(--xeg-spacing-mobile);
  }

  .toolbarWrapper {
    padding-block-end: var(--xeg-spacing-mobile);
  }
}

@media (max-width: 480px) {
  .itemsList {
    padding: var(--xeg-spacing-compact);
    gap: var(--xeg-spacing-compact);
  }
}
/* ì ‘ê·¼ì„± - ê³ ëŒ€ë¹„ ëª¨ë“œ ì§€ì› */
@media (prefers-contrast: high) {
  .itemActive::before {
    border-color: HighlightText;
    box-shadow: 0 0 8px HighlightText;
  }

  .container {
    background: Canvas;
    color: CanvasText;
  }

  .toolbarWrapper {
    background: linear-gradient(
      to bottom,
      Canvas 0%,
      color-mix(in srgb, Canvas 80%, transparent) 70%,
      transparent 100%
    );
  }
}

/* ì ‘ê·¼ì„± - ëª¨ì…˜ ê°ì†Œ ì§€ì› */
@media (prefers-reduced-motion: reduce) {
  .itemsList {
    scroll-behavior: auto;
  }

  .itemsList {
    will-change: auto;
    transform: none;
  }
}

/* ë¼ì´íŠ¸ ëª¨ë“œ ì„ í˜¸ë„ ì§€ì› */
@media (prefers-color-scheme: light) {
  .container {
    background: color-mix(in srgb, white 95%, transparent);
  }
}

/* ë¹ˆ ìƒíƒœ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.emptyButton {
  margin-top: 1rem;
}

/* Toast ì»¨í…Œì´ë„ˆ */
.toastContainer {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: calc(var(--xeg-gallery-z-index) + 2);
  display: flex;
  flex-direction: column;
  gap: 10px;
  pointer-events: none;
}

.toastContainer > * {
  pointer-events: auto;
}

/* ê°ì†Œëœ ëª¨ì…˜ ì‚¬ìš©ìë¥¼ ìœ„í•œ ì§€ì› - ê°œì„ ëœ ì ‘ê·¼ì„± */
@media (prefers-reduced-motion: reduce) {
  .toolbarWrapper {
    transition: opacity 150ms ease;
    transform: translateY(-100%); /* Yì¶• ì´ë™ë§Œ ì œê±° */
  }

  .toolbarWrapper:hover,
  .toolbarWrapper:focus-within {
    transform: translateY(0); /* ë‹¨ìˆœí•œ Yì¶• ì´ë™ë§Œ */
    transition: opacity 100ms ease; /* ë” ë¹ ë¥¸ ì‘ë‹µ */
  }

  /* ì»¨í…Œì´ë„ˆ ë ˆë²¨ì—ì„œë„ ëª¨ì…˜ ê°ì†Œ */
  .container {
    transition: opacity 200ms ease;
  }

  /* ëª¨ë“  ì• ë‹ˆë©”ì´ì…˜ ì œê±° */
  .fadeInOut {
    animation: none;
  }
}

/* ê³ ëŒ€ë¹„ ëª¨ë“œ ì§€ì› - í–¥ìƒëœ ê°€ì‹œì„± */
@media (prefers-contrast: high) {
  .toolbarWrapper {
    background: rgba(0, 0, 0, 0.95);
    border: 2px solid white;
    border-radius: 4px;
    margin: 4px;
  }

  /* ê³ ëŒ€ë¹„ ëª¨ë“œì—ì„œ í˜¸ë²„ ì˜ì—­ ì‹œê°í™” */
  .toolbarHoverZone:hover {
    background: rgba(255, 255, 255, 0.1);
  }
}

/* í˜ì´ì§€ ìŠ¤í¬ë¡¤ ë°©ì§€ - ê°¤ëŸ¬ë¦¬ ë‚´ì—ì„œë§Œ ìŠ¤í¬ë¡¤ */
.container {
  /* ...existing code... */
  overscroll-behavior: contain;
}

/* íˆ´ë°” í˜¸ë²„ íŠ¸ë¦¬ê±° ì˜ì—­ */
.toolbarHoverTrigger {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 120px; /* í™•ì¥ëœ í˜¸ë²„ ì˜ì—­ */
  z-index: calc(var(--xeg-toolbar-z-index) - 1);
  pointer-events: auto;
  background: transparent;
}

/* í˜¸ë²„ íŠ¸ë¦¬ê±° ì˜ì—­ì— ë§ˆìš°ìŠ¤ê°€ ì˜¬ë¼ê°”ì„ ë•Œ íˆ´ë°” í‘œì‹œ */
.toolbarHoverTrigger:hover + .toolbarWrapper {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
  --toolbar-opacity: 1;
  --toolbar-pointer-events: auto;
}

/* íˆ´ë°” ìì²´ í˜¸ë²„ ì‹œì—ë„ í‘œì‹œ ìœ ì§€ */
.container [class*='galleryToolbar']:hover {
  --toolbar-opacity: 1;
  --toolbar-pointer-events: auto;
}

/* ë¸Œë¼ìš°ì € í˜¸í™˜ì„±ì„ ìœ„í•œ ëŒ€ì²´ ë°©ë²• */
@supports not (selector(:hover + *)) {
  .container:hover [class*='galleryToolbar'] {
    --toolbar-opacity: 1;
    --toolbar-pointer-events: auto;
  }
}

/**
 * @fileoverview Component Design Tokens
 * @description 컴포넌트별 전용 토큰들 - semantic 값들을 참조
 */

@layer xeg.tokens {
  :where(:root, .xeg-theme-scope) {
    /* Toolbar Component */
    /* --xeg-toolbar-bg is defined in semantic.css */

    /* Toolbar Expandable Panel */
    --xeg-toolbar-panel-transition:
      height var(--xeg-duration-normal) var(--xeg-ease-standard),
      opacity var(--xeg-duration-fast) var(--xeg-ease-standard);
    --xeg-toolbar-panel-height: 0;
    --xeg-toolbar-panel-max-height: 17.5rem; /* 280px */

    /* Button Component */
    --xeg-button-bg-primary-hover: var(--color-primary-hover);
    --xeg-button-bg-primary-active: var(--color-primary-active);
    --xeg-button-text-primary: var(--color-text-inverse);
    --xeg-button-text-secondary: var(--color-text-primary);
    --xeg-button-border: var(--color-border-default);
    --xeg-button-transition: var(--transition-fast);

    /* Panel/Surface Component */
    --xeg-panel-bg: var(--color-bg-elevated);
    --xeg-panel-border: var(--color-border-default);
    --xeg-panel-radius: var(--xeg-radius-lg);
    --xeg-panel-shadow: var(--shadow-sm);

    /* Glass Surface (Legacy support mapping to flat panels) */
    --xeg-glass-bg: var(--color-glass-bg);
    --xeg-glass-border: var(--color-glass-border);
    --xeg-glass-backdrop-filter: none;
    --xeg-glass-shadow: none;

    /* Media/Image Component */
    --xeg-media-border-radius: var(--xeg-radius-md);
    --xeg-media-loading-bg: var(--color-bg-secondary);
    --xeg-media-placeholder-text: var(--color-text-muted);
    --xeg-aspect-default: 4 / 3;

    /* Scrollbar Component */
    --xeg-scrollbar-width: 0.5rem; /* 8px */
    --xeg-scrollbar-track-bg: var(--color-bg-secondary);
    --xeg-scrollbar-thumb-bg: var(--color-border-emphasis);
    --xeg-scrollbar-thumb-hover-bg: var(--color-text-secondary);
    --xeg-scrollbar-border-radius: var(--radius-sm);

    /* Hover Zone Component */
    --xeg-hover-zone-height: 7.5rem; /* 120px */
    --xeg-hover-zone-bg: transparent;
    --xeg-hover-zone-transition: var(--transition-fast);

    /* Animation Presets */
    --xeg-animation-fade-in: fade-in var(--duration-normal) var(--transition-normal);
    --xeg-animation-fade-out: fade-out var(--duration-fast) cubic-bezier(0.4, 0, 1, 1);
    --xeg-animation-slide-in: slide-in-bottom var(--duration-normal) var(--transition-normal);
    --xeg-animation-slide-out: slide-out-top var(--duration-fast) cubic-bezier(0.4, 0, 1, 1);

    /* Spinner Component */
    --xeg-spinner-size-default: 1rem;
    --xeg-spinner-border-width: 0.125rem;
    --xeg-spinner-track-color: color-mix(in oklch, var(--xeg-color-neutral-400) 60%, transparent);
    --xeg-spinner-indicator-color: var(--xeg-color-primary, currentColor);
    --xeg-spinner-duration: var(--xeg-duration-normal);
    --xeg-spinner-easing: var(--xeg-easing-linear);

    /* Transition Presets */
    --xeg-transition-surface-normal:
      background-color var(--xeg-duration-normal) var(--xeg-ease-standard),
      border-color var(--xeg-duration-normal) var(--xeg-ease-standard),
      color var(--xeg-duration-normal) var(--xeg-ease-standard);
    --xeg-transition-surface-fast:
      background-color var(--xeg-duration-fast) var(--xeg-ease-standard),
      border-color var(--xeg-duration-fast) var(--xeg-ease-standard),
      color var(--xeg-duration-fast) var(--xeg-ease-standard);
    --xeg-transition-elevation-normal:
      transform var(--xeg-duration-normal) var(--xeg-ease-standard),
      opacity var(--xeg-duration-normal) var(--xeg-ease-standard);
    --xeg-transition-elevation-fast:
      transform var(--xeg-duration-fast) var(--xeg-ease-standard),
      opacity var(--xeg-duration-fast) var(--xeg-ease-standard);
    --xeg-transition-interaction-fast:
      background-color var(--xeg-duration-fast) var(--xeg-easing-ease-out),
      border-color var(--xeg-duration-fast) var(--xeg-easing-ease-out),
      color var(--xeg-duration-fast) var(--xeg-easing-ease-out),
      transform var(--xeg-duration-fast) var(--xeg-easing-ease-out);
    --xeg-transition-width-normal: width var(--xeg-duration-normal) var(--xeg-ease-standard);

    /* Icon Component */
    --xeg-icon-stroke-width: 0.125rem;
    --xeg-icon-size: var(--size-icon-md);
    --xeg-icon-line-height: 1;
    --xeg-icon-color: currentColor;

    /* Icon Size Variants */
    --xeg-icon-size-sm: var(--size-icon-sm);
    --xeg-icon-size-md: var(--size-icon-md);
    --xeg-icon-size-lg: var(--size-icon-lg);

    /* Button Size Variants */
    --xeg-button-size-sm: var(--size-button-sm);
    --xeg-button-size-md: var(--size-button-md);
    --xeg-button-size-lg: var(--size-button-lg);

    /* Text Size Variants */
    --xeg-text-2xs: var(--font-size-2xs);
    --xeg-text-xs: var(--font-size-xs);
    --xeg-text-sm: var(--font-size-sm);
    --xeg-text-base: var(--font-size-base);
    --xeg-text-md: var(--font-size-md);
    --xeg-text-lg: var(--font-size-lg);
    --xeg-text-xl: var(--font-size-xl);
    --xeg-text-2xl: var(--font-size-2xl);
    --xeg-text-3xl: var(--font-size-3xl);

    /* Spacing Variants */
    --xeg-spacing-xs: var(--space-xs);
    --xeg-spacing-sm: var(--space-sm);
    --xeg-spacing-md: var(--space-md);
    --xeg-spacing-lg: var(--space-lg);
    --xeg-spacing-xl: var(--space-xl);
    --xeg-spacing-2xl: var(--space-2xl);
    --xeg-spacing-3xl: 3rem;
    --xeg-spacing-5xl: 5rem;
    --xeg-viewport-height-constrained: 90vh;
  }
}

@layer xeg.components {
  /* Utility Classes */

  /* Glass utility */
  .xeg-glassmorphism {
    background: var(--xeg-glass-bg);
    border: 0.0625rem solid var(--xeg-glass-border);
    border-radius: var(--xeg-radius-lg);
  }

  /* Animation Utility Classes */
  .xeg-anim-fade-in {
    animation: xeg-fade-in var(--xeg-duration) var(--xeg-easing-ease-out);
  }

  .xeg-anim-fade-out {
    animation: xeg-fade-out var(--xeg-duration-fast) var(--xeg-easing-ease-in);
  }

  .xeg-spinner {
    display: inline-block;
    width: var(--xeg-spinner-size, var(--xeg-spinner-size-default));
    height: var(--xeg-spinner-size, var(--xeg-spinner-size-default));
    border-radius: var(--xeg-radius-full);
    border: var(--xeg-spinner-border-width) solid var(--xeg-spinner-track-color);
    border-top-color: var(--xeg-spinner-indicator-color);
    animation: xeg-spin var(--xeg-spinner-duration) var(--xeg-spinner-easing) infinite;
    box-sizing: border-box;
  }

  @media (prefers-reduced-motion: reduce) {
    .xeg-spinner {
      animation: none;
    }
  }
}

/* ======================================= */
/* Accessibility Media Queries */
/* ======================================= */

/* 투명도 감소 선호 지원 */
@layer xeg.tokens {
  @media (prefers-reduced-transparency: reduce) {
    :where(:root, .xeg-theme-scope) {
      --color-glass-bg: var(--color-bg-primary);
      --xeg-glass-bg: var(--color-bg-primary);
      --xeg-surface-glass-bg: var(--color-bg-surface);
      --xeg-glass-backdrop-filter: none;
    }
  }
}

/* NOTE: prefers-reduced-motion 토큰은 design-tokens.semantic.css로 통합됨 */

@layer xeg.components {
  @keyframes xeg-fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes xeg-fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  @keyframes xeg-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes xeg-slide-out-top {
    from {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    to {
      opacity: 0;
      transform: translateY(-1.25rem) scale(0.95); /* -20px = -1.25rem */
    }
  }
}

/* toolbar-slide-* 키프레임 제거됨 (애니메이션은 JS 유틸을 사용) */

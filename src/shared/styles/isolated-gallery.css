/**
 * @fileoverview 격리된 갤러리 스타일 시스템
 * @description 트위터 페이지에 영향을 주지 않는 완전히 격리된 스타일
 * @version 1.0.0
 */

/* ========================================
   격리된 갤러리 루트 컨테이너
   ======================================== */

.xeg-root {
  /* 완전한 스타일 격리 */
  all: initial !important;

  /* 기본 폰트 및 텍스트 설정 */
  font-family:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  color: var(--xeg-color-text-inverse) !important;

  /* 박스 모델 */
  box-sizing: border-box !important;

  /* 위치 및 크기 */
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;

  /* 레이어링 - 표준화된 z-index 사용 */
  z-index: var(--xeg-z-emergency) !important;

  /* 스타일 격리 */
  isolation: isolate !important;
  contain: layout style paint !important;

  /* 배경 */
  background: var(--xeg-color-overlay-strong) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;

  /* 이벤트 처리 */
  pointer-events: auto !important;
  user-select: none !important;

  /* 하드웨어 가속 */
  transform: translateZ(0) !important;
  will-change: opacity, transform !important;

  /* 접근성 */
  outline: none !important;
}

/* 모든 자식 요소에 박스 모델 적용 */
.xeg-root *,
.xeg-root *::before,
.xeg-root *::after {
  box-sizing: border-box !important;
}

/* ========================================
   격리된 갤러리 CSS 변수 시스템
   ======================================== */

.xeg-root {
  /* 색상 시스템 - 디자인 토큰 기반 */
  --xeg-isolated-bg: var(--xeg-color-overlay-strong);
  --xeg-isolated-bg-secondary: var(--xeg-color-overlay-medium);
  --xeg-isolated-text: var(--xeg-color-text-inverse);
  --xeg-isolated-text-secondary: var(--xeg-color-text-inverse-secondary);
  --xeg-isolated-text-muted: var(--xeg-color-text-inverse-muted);

  /* 프라이머리 색상 */
  --xeg-isolated-primary: var(--xeg-color-primary);
  --xeg-isolated-primary-hover: var(--xeg-color-primary-hover);
  --xeg-isolated-primary-active: var(--xeg-color-primary-active);

  /* 위험/오류 색상 */
  --xeg-isolated-danger: var(--xeg-color-error);
  --xeg-isolated-danger-hover: var(--xeg-color-error-hover);

  /* 성공 색상 */
  --xeg-isolated-success: var(--xeg-color-success);
  --xeg-isolated-success-hover: var(--xeg-color-success-hover);

  /* 경고 색상 */
  --xeg-isolated-warning: var(--xeg-color-warning);
  --xeg-isolated-warning-hover: var(--xeg-color-warning-hover);

  /* 그레이 스케일 */
  --xeg-isolated-gray-100: var(--xeg-color-neutral-100);
  --xeg-isolated-gray-200: var(--xeg-color-neutral-200);
  --xeg-isolated-gray-300: var(--xeg-color-neutral-300);
  --xeg-isolated-gray-400: rgba(255, 255, 255, 0.4);
  --xeg-isolated-gray-500: rgba(255, 255, 255, 0.5);

  /* 그림자 */
  --xeg-isolated-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --xeg-isolated-shadow-md: 0 4px 8px rgba(0, 0, 0, 0.3);
  --xeg-isolated-shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.3);
  --xeg-isolated-shadow-xl: 0 16px 32px rgba(0, 0, 0, 0.4);

  /* 반경 */
  --xeg-isolated-radius-sm: 4px;
  --xeg-isolated-radius-md: 8px;
  --xeg-isolated-radius-lg: 12px;
  --xeg-isolated-radius-xl: 16px;
  --xeg-isolated-radius-full: 9999px;

  /* 간격 */
  --xeg-isolated-spacing-xs: 4px;
  --xeg-isolated-spacing-sm: 8px;
  --xeg-isolated-spacing-md: 16px;
  --xeg-isolated-spacing-lg: 24px;
  --xeg-isolated-spacing-xl: 32px;
  --xeg-isolated-spacing-2xl: 48px;

  /* 전환 */
  --xeg-isolated-transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --xeg-isolated-transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
  --xeg-isolated-transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);

  /* 블러 */
  --xeg-isolated-blur-sm: blur(4px);
  --xeg-isolated-blur-md: blur(8px);
  --xeg-isolated-blur-lg: blur(16px);

  /* z-index */
  --xeg-isolated-z-base: 1;
  --xeg-isolated-z-dropdown: 10;
  --xeg-isolated-z-sticky: 20;
  --xeg-isolated-z-fixed: 30;
  --xeg-isolated-z-modal: 40;
  --xeg-isolated-z-popover: 50;
  --xeg-isolated-z-tooltip: 60;
  --xeg-isolated-z-toast: 70;
}

/* ========================================
   격리된 갤러리 기본 컴포넌트 스타일
   ======================================== */

/* 갤러리 컨테이너 */
.xeg-root .gallery-container {
  width: 100% !important;
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  background: transparent !important;
  color: var(--xeg-isolated-text) !important;
}

/* 툴바 */
.xeg-root .toolbar {
  background: var(--xeg-isolated-gray-200) !important;
  backdrop-filter: var(--xeg-isolated-blur-md) !important;
  -webkit-backdrop-filter: var(--xeg-isolated-blur-md) !important;
  border-radius: var(--xeg-isolated-radius-lg) !important;
  box-shadow: var(--xeg-isolated-shadow-md) !important;
  padding: var(--xeg-isolated-spacing-sm) var(--xeg-isolated-spacing-md) !important;
  margin: var(--xeg-isolated-spacing-md) !important;
}

/* 버튼 */
.xeg-root .button {
  background: var(--xeg-isolated-gray-200) !important;
  color: var(--xeg-isolated-text) !important;
  border: 1px solid var(--xeg-isolated-gray-300) !important;
  border-radius: var(--xeg-isolated-radius-md) !important;
  padding: var(--xeg-isolated-spacing-sm) var(--xeg-isolated-spacing-md) !important;
  font-family: inherit !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all var(--xeg-isolated-transition-fast) !important;
  user-select: none !important;
  outline: none !important;
}

.xeg-root .button:hover {
  background: var(--xeg-isolated-gray-300) !important;
  border-color: var(--xeg-isolated-gray-400) !important;
  transform: translateY(-1px) !important;
  box-shadow: var(--xeg-isolated-shadow-md) !important;
}

.xeg-root .button:active {
  transform: translateY(0) !important;
  transition: all var(--xeg-isolated-transition-fast) !important;
}

.xeg-root .button:focus-visible {
  outline: 2px solid var(--xeg-isolated-primary) !important;
  outline-offset: 2px !important;
}

/* 프라이머리 버튼 */
.xeg-root .button-primary {
  background: var(--xeg-isolated-primary) !important;
  border-color: var(--xeg-isolated-primary) !important;
  color: #ffffff !important;
}

.xeg-root .button-primary:hover {
  background: var(--xeg-isolated-primary-hover) !important;
  border-color: var(--xeg-isolated-primary-hover) !important;
}

/* 위험 버튼 */
.xeg-root .button-danger {
  background: var(--xeg-isolated-danger) !important;
  border-color: var(--xeg-isolated-danger) !important;
  color: #ffffff !important;
}

.xeg-root .button-danger:hover {
  background: var(--xeg-isolated-danger-hover) !important;
  border-color: var(--xeg-isolated-danger-hover) !important;
}

/* ========================================
   접근성 및 반응형 지원
   ======================================== */

/* 고대비 모드 지원 */
@media (prefers-contrast: high) {
  .xeg-root {
    background: #000000 !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  .xeg-root .button {
    border-width: 2px !important;
  }
}

/* 모션 감소 선호도 지원 */
@media (prefers-reduced-motion: reduce) {
  .xeg-root *,
  .xeg-root *::before,
  .xeg-root *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

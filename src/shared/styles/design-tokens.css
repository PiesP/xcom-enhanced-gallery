/**
 * @fileoverview 통합 디자인 토큰 시스템 (3단 계층)
 * @description Primitive → Semantic → Component 순서로 로드
 * @version 2.0.0 - Phase 1: 계층화 완료
 */

/* 1단계: Primitive Tokens - 기본 값들 */
@import './design-tokens.primitive.css';

/* 2단계: Semantic Tokens - 역할 기반 토큰들 */
@import './design-tokens.semantic.css';

/* 3단계: Component Tokens - 컴포넌트별 전용 토큰들 */
@import './design-tokens.component.css';

/*
  레거시 호환성을 위한 alias들 (점진적 제거 예정)
  새로운 3단 계층 토큰 사용을 권장합니다.
*/
:root {
  /* Primary Colors */
  /* Base Colors - 기본 색상들 */
  /* Legacy Primary Colors - 호환성 보장 */
  --xeg-color-primary-500: var(--color-primary);
  --xeg-color-primary-600: var(--color-primary-hover);
  --xeg-color-primary-700: var(--color-primary-active);

  /* Semantic Colors */
  /* Semantic Colors - 의미 기반 색상들 */
  /* Legacy Neutral Colors - 호환성 보장 */
  --xeg-color-neutral-100: var(--color-gray-100);
  --xeg-color-neutral-500: var(--color-gray-500);
  --xeg-color-neutral-700: var(--color-gray-700);
  --xeg-color-neutral-900: var(--color-gray-900);

  /* Component-specific */
  /* Component-specific - 컴포넌트별 색상들 */
  /* Legacy Semantic Colors - 호환성 보장 */
  --xeg-color-success-500: var(--color-success);
  --xeg-color-error-500: var(--color-error);
  --xeg-color-warning-500: var(--color-warning);

  /* Legacy Surface Colors - 호환성 보장 */
  --xeg-surface-primary: var(--color-bg-primary);
  --xeg-surface-secondary: var(--color-bg-secondary);
  --xeg-surface-glass: var(--glass-bg);
  --xeg-surface-elevated: var(--color-bg-elevated);

  /* Legacy Glass System - 호환성 보장 */
  --xeg-glass-bg: var(--glass-bg);
  --xeg-glass-border: var(--glass-border);
  --xeg-glass-shadow: var(--glass-shadow);
  --xeg-glass-blur: none; /* 미니멀 디자인 유지 */

  /* Surface Glass 토큰들 - 테스트 호환성 */
  --xeg-surface-glass-bg: var(--glass-bg);
  --xeg-surface-glass-border: var(--glass-border);
  --xeg-surface-glass-shadow: var(--glass-shadow);
  --xeg-surface-glass-blur: none; /* 미니멀 디자인 유지 */

  /* Legacy Overlay Colors - 호환성 보장 */
  --xeg-overlay-light: var(--color-overlay-light);
  --xeg-overlay-medium: var(--color-overlay-medium);
  --xeg-overlay-strong: var(--color-overlay-strong);
  --xeg-overlay-backdrop: var(--color-overlay-backdrop);

  /* Legacy Color aliases - 호환성 보장 */
  --xeg-color-overlay-light: var(--color-overlay-light);
  --xeg-color-overlay-medium: var(--color-overlay-medium);
  --xeg-color-overlay-strong: var(--color-overlay-strong);
  --xeg-color-overlay-backdrop: var(--color-overlay-backdrop);

  /* Text Color Tokens - 테스트 호환성 */
  --xeg-color-text-primary: var(--color-text-primary);
  --xeg-color-text-secondary: var(--color-text-secondary);

  /* Legacy Spacing - 호환성 보장 */
  --xeg-spacing-sm: var(--space-sm);
  --xeg-spacing-md: var(--space-md);
  --xeg-spacing-lg: var(--space-lg);
  --xeg-spacing-xl: var(--space-xl);

  /* Legacy Component-specific - 호환성 보장 */
  --xeg-hover-zone-height: var(--hover-zone-height);
  --xeg-scrollbar-width: var(--scrollbar-width);
  --xeg-toast-offset: var(--toast-offset);

  /* 필수 토큰들 - 테스트 호환성 */
  --xeg-focus-outline: 2px solid var(--color-primary);
  --xeg-focus-offset: 2px;
  --xeg-focus-outline-color: var(--color-primary);
  --xeg-focus-outline-width: 2px;
  --xeg-focus-outline-style: solid;
  --xeg-color-surface-elevated: var(--color-bg-elevated);
  --xeg-color-backdrop: var(--color-overlay-backdrop);

  /* Focus Ring Tokens - 테스트 호환성 */
  --xeg-focus-ring: 2px solid var(--color-primary);
  --xeg-focus-ring-offset: 2px;

  /* Animation tokens */
  --xeg-anim-duration: 0.3s;
  --xeg-anim-duration-fast: 0.15s;
  --xeg-anim-duration-slow: 0.5s;
  --xeg-anim-ease: cubic-bezier(0.4, 0, 0.2, 1);
  --xeg-easing: cubic-bezier(0.4, 0, 0.2, 1);

  /* Shadow/Elevation Tokens - 테스트 호환성 */
  --xeg-shadow-sm: var(--shadow-sm);
  --xeg-shadow-md: var(--shadow-md);
  --xeg-shadow-lg: var(--shadow-lg);

  /* Z-Index Tokens - 테스트 호환성 */
  --xeg-z-modal: 1000;
  --xeg-z-toolbar: 999;

  /* Icon Tokens - 테스트 호환성 */
  --xeg-icon-stroke-width: 1.5px;
  --xeg-icon-size: 1rem;
  --xeg-icon-line-height: 1;

  /* Typography Tokens - 테스트 호환성 */
  --xeg-font-size-sm: 0.875rem;
  --xeg-font-size-base: 1rem;
  --xeg-font-size-lg: 1.125rem;
  --xeg-font-weight-normal: 400;
  --xeg-font-weight-medium: 500;
  --xeg-font-weight-bold: 700;

  /* Radius Tokens - 테스트 호환성 */
  --xeg-radius-sm: var(--radius-sm);
  --xeg-radius-md: var(--radius-md);
  --xeg-radius-lg: var(--radius-lg);

  /* Transition Tokens - 테스트 호환성 */
  --xeg-transition-duration: var(--xeg-duration-normal);
  --xeg-transition-ease: var(--xeg-easing-easeOut);
  --xeg-transition-normal: all var(--xeg-duration-normal) var(--xeg-easing-easeOut);
  --xeg-transition-fast: all var(--xeg-duration-fast) var(--xeg-easing-easeOut);
  --xeg-transition-slow: all var(--xeg-duration-slow) var(--xeg-easing-easeOut);

  /* Animation Composite Tokens */
  --xeg-animation-spin: xeg-spin 1s linear infinite;
  --xeg-duration-fast: var(--xeg-anim-duration-fast);
  --xeg-duration-normal: var(--xeg-anim-duration);
  --xeg-duration-slow: var(--xeg-anim-duration-slow);
  --xeg-easing-easeOut: var(--xeg-anim-ease);
}

/* Utility Classes - 테스트 호환성 */
.xeg-focus-ring:focus-visible {
  outline: var(--xeg-focus-outline);
  outline-offset: var(--xeg-focus-offset);
}

/* Theme Support - Dark/Light Mode (테스트 호환성) */
[data-theme='light'] {
  --color-bg-primary: var(--color-base-white);
  --color-text-primary: var(--color-base-black);
}

[data-theme='dark'] {
  --color-bg-primary: var(--color-gray-900);
  --color-text-primary: var(--color-base-white);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) {
    --color-bg-primary: var(--color-gray-900);
    --color-text-primary: var(--color-base-white);
  }
}

/* Animation Keyframes - 테스트 호환성 */
@keyframes slideInUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes xeg-fade-slide-in {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes xeg-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Glassmorphism Utility Classes - 테스트 호환성 */
.xeg-glassmorphism {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

.xeg-surface-elevated {
  background: var(--color-bg-elevated);
  box-shadow: var(--shadow-md);
}

.xeg-surface-primary {
  background: var(--color-bg-primary);
}

.xeg-surface-secondary {
  background: var(--color-bg-secondary);
}

/* Animation Utility Classes - 테스트 호환성 */
.xeg-anim-slide-in {
  animation: slideInUp var(--xeg-anim-duration) var(--xeg-anim-ease);
  will-change: transform, opacity; /* GPU 가속 */
}

.xeg-anim-fade-slide-in {
  animation: xeg-fade-slide-in var(--xeg-anim-duration) var(--xeg-anim-ease);
  will-change: transform, opacity; /* GPU 가속 */
}

.xeg-anim-fast {
  animation-duration: var(--xeg-anim-duration-fast);
}

.xeg-anim-slow {
  animation-duration: var(--xeg-anim-duration-slow);
}

/* Layout Utility Classes */
.xeg-flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.xeg-flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.xeg-flex-column {
  display: flex;
  flex-direction: column;
}

/* Spacing Utility Classes */
.xeg-p-sm {
  padding: var(--space-sm);
}

.xeg-p-md {
  padding: var(--space-md);
}

.xeg-p-lg {
  padding: var(--space-lg);
}

.xeg-m-sm {
  margin: var(--space-sm);
}

.xeg-m-md {
  margin: var(--space-md);
}

.xeg-m-lg {
  margin: var(--space-lg);
}

/* Accessibility Support - 테스트 호환성 */
@media (prefers-contrast: high) {
  .xeg-glassmorphism {
    border-width: 2px;
    box-shadow: none;
  }
}

@media (prefers-reduced-motion: reduce) {
  .xeg-anim-slide-in,
  .xeg-anim-fade-slide-in {
    animation: none;
    transform: none;
    opacity: 1;
  }
}

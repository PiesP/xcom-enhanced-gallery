/**
 * @fileoverview 통합 디자인 토큰 CSS (OKLCH 색상 시스템)
 * 총 35개의 색상이 OKLCH로 변환되었습니다.
 * 생성일: 2025-07-31T13:51:46.194Z
 */

:root {
  /* ===========================================
    Phase22 Semantic Surface System (WIP)
    NOTE: glass 변수 제거 전 단계. 컴포넌트 CSS 점진 치환 후 glass 블록 삭제 예정.
    =========================================== */
  --xeg-surface-base-bg: var(--xeg-color-neutral-100, #f5f5f5);
  --xeg-surface-base-border: var(--xeg-color-border-primary, rgba(0,0,0,0.08));

  --xeg-surface-muted-bg: var(--xeg-color-neutral-200, #eceff1);

  --xeg-surface-elevated-bg: var(--xeg-color-surface-modal-bg, rgba(255,255,255,0.97));
  --xeg-surface-elevated-border: var(--xeg-color-surface-modal-border, rgba(0,0,0,0.12));
  --xeg-surface-elevated-shadow: var(--xeg-shadow-md, 0 4px 16px rgba(0,0,0,0.12));

  --xeg-surface-overlay-bg: var(--xeg-color-surface-modal-solid-bg, #ffffff);

  /* Foreground semantic (Phase22 initial pass) */

  /* DEPRECATION: 다음 릴리스에서 --xeg-glass* / *glass-shadow* / *glass-border* 제거 예정 */
  /* Primary Colors */
  --xeg-color-primary-500: oklch(0.678 0.182 252.2);
  --xeg-color-primary-600: oklch(0.623 0.21 252.8);
  --xeg-color-primary-700: oklch(0.567 0.243 253.4);

  /* Neutral Colors */
  --xeg-color-neutral-100: oklch(0.97 0.002 206.2);
  --xeg-color-neutral-500: oklch(0.598 0.006 286.3);
  --xeg-color-neutral-700: oklch(0.378 0.005 286.3);
  --xeg-color-neutral-900: oklch(0.234 0.006 277.8);

  /* Semantic Colors */
  --xeg-color-error-400: oklch(0.694 0.257 28.4);

  /* Warning Orange */
  --xeg-color-warning-50: oklch(0.988 0.029 86.7);
  --xeg-color-warning-100: oklch(0.968 0.049 85.4);
  --xeg-color-warning-200: oklch(0.926 0.096 84.5);
  --xeg-color-warning-300: oklch(0.877 0.144 82.4);
  --xeg-color-warning-400: oklch(0.834 0.173 79.3);
  --xeg-color-warning-600: oklch(0.699 0.148 64.9);
  --xeg-color-warning-700: oklch(0.554 0.121 58);
  --xeg-color-warning-800: oklch(0.447 0.099 52.7);
  --xeg-color-warning-900: oklch(0.392 0.084 49.6);
  --xeg-color-warning-950: oklch(0.237 0.055 45.7);

  /* Button Semantic Colors - Light Background Variants */
  --xeg-color-primary-50: oklch(0.95 0.05 228);
  --xeg-color-success-50: oklch(0.95 0.08 142);
  --xeg-color-error-50: oklch(0.95 0.08 27);

  /* Button Hover Colors */
  --xeg-color-success-hover: var(--xeg-color-success-600);
  --xeg-color-error-hover: var(--xeg-color-error-600);

  /* Error Red */
  --xeg-color-error-50: oklch(0.971 0.013 17.4);
  --xeg-color-error-100: oklch(0.943 0.031 15.6);
  --xeg-color-error-200: oklch(0.905 0.055 13.6);
  --xeg-color-error-300: oklch(0.852 0.089 12);
  --xeg-color-error-400: oklch(0.787 0.15 17);
    /* Error Red */
  --xeg-color-error-400: oklch(0.694 0.257 28.4); /* base */
  --xeg-color-error-600: oklch(0.568 0.228 25.3);
  --xeg-color-error-700: oklch(0.498 0.208 25.9);
  --xeg-color-error-800: oklch(0.447 0.19 26.2);
  --xeg-color-error-900: oklch(0.402 0.172 26.5);
  --xeg-color-error-950: oklch(0.261 0.119 26.8);
}

/* CSS 성능 최적화를 위한 변수 재구성 및 중복 제거 */

/* ===========================================
   OPTIMIZED SURFACE COLORS - CONSOLIDATED
   =========================================== */

/* 통합된 표면 색상 시스템 - 중복 제거 및 성능 최적화 */
:root {
  /* Primary Surface System */
  /* (Removed glassmorphism tokens Phase22) */
  --xeg-color-surface-light: var(--xeg-surface-elevated-bg);
  --xeg-color-surface-dark: rgba(0, 0, 0, 0.92);
  --xeg-surface-elevated: var(--xeg-surface-elevated-bg);

  /* Optimized Overlay Colors - 성능을 위한 간소화 */
  --xeg-color-overlay: rgba(0, 0, 0, 0.5);
  --xeg-color-backdrop: rgba(0, 0, 0, 0.5);

  /* Removed: color_glass_* and surface_glass_* variables */

  /* ===========================================
   ACCESSIBILITY ENHANCEMENTS
   =========================================== */

  /* 색상 대비 최적화 - WCAG 2.1 AA 준수 */
  :root {
    /* Interactive Element Colors - 접근성 강화 */
    --xeg-color-focus: #005fcc; /* 7:1 대비비 */
  }

  /* 고대비 모드 개선 */
  @media (prefers-contrast: high) {
    :root {
      --xeg-color-primary-500: var(--xeg-color-focus);
    }
  }

  /* 컬러 블라인드 지원 제거 - 미사용 토큰 정리 */

  /* ===========================================
   SPACING SYSTEM (8px base)
   =========================================== */
  --xeg-spacing-sm: 8px; /* 0.5rem */
  --xeg-spacing-md: 16px; /* 1rem */
  --xeg-spacing-lg: 24px; /* 1.5rem */
  --xeg-spacing-xl: 32px; /* 2rem */
  --xeg-spacing-2xl: 48px; /* 3rem */
  --xeg-spacing-3xl: 64px; /* 4rem */

  /* ===========================================
     GALLERY-SPECIFIC SPACING TOKENS
     =========================================== */

  /* 갤러리 툴바 호버 영역 높이 */
  --xeg-hover-zone-height: 120px; /* 8 * 15px = 120px (8px 기반) */

  /* 스크롤바 관련 크기 */
  --xeg-scrollbar-width: 8px; /* 기본 스크롤바 너비 */
  --xeg-scrollbar-border-radius: 4px; /* 스크롤바 모서리 둥글기 */

  /* 토스트 컨테이너 위치 */
  --xeg-toast-offset: 20px; /* 토스트 컨테이너 여백 */

  /* 컴포넌트 간 간격 - 미사용 토큰 제거 */
  --xeg-gap-xs: 4px; /* 최소 간격 */
  --xeg-gap-sm: 8px; /* 작은 간격 */

  /* ===========================================
     TYPOGRAPHY SYSTEM
     =========================================== */

  /* Font Families */
  --xeg-font-family-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

  /* Font Sizes */
  --xeg-font-size-xs: 12px; /* 0.75rem */
  --xeg-font-size-sm: 14px; /* 0.875rem */
  --xeg-font-size-base: 16px; /* 1rem */
  --xeg-font-size-lg: 18px; /* 1.125rem */
  --xeg-font-size-2xl: 24px; /* 1.5rem */

  /* Font Weights */
  --xeg-font-weight-medium: 500;
  --xeg-font-weight-semibold: 600;

  /* Line Heights */
  --xeg-line-height-normal: 1.5;

  /* ===========================================
     LAYOUT SYSTEM
     =========================================== */

  /* Border Radius */
  --xeg-radius-sm: 4px;
  --xeg-radius-md: 8px;
  --xeg-radius-lg: 12px;
  --xeg-radius-xl: 16px;
  --xeg-radius-full: 9999px;

  /* Shadows */
  --xeg-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --xeg-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
  --xeg-shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);

  /* Z-Index Scale */
  --xeg-z-modal: 2000;
  --xeg-z-toolbar: 2500; /* 툴바 전용 Z-index 추가 */
  --xeg-z-gallery: 4000;
  --xeg-z-toast: 5000;
  --xeg-z-tooltip: 9999; /* 최상위 툴팁 레이어 */

  /* ===========================================
     ANIMATION SYSTEM
     =========================================== */

  /* Duration */
  --xeg-duration-fast: 150ms;
  --xeg-duration-normal: 300ms;

  /* 갤러리 전용 애니메이션 지속시간 */
  --xeg-duration-toolbar: 100ms; /* 툴바 표시/숨김 */
  --xeg-duration-fade: 250ms; /* 페이드 인/아웃 */

  /* Easing */
  --xeg-easing-ease-out: cubic-bezier(0, 0, 0.2, 1);
  --xeg-easing-ease-in: cubic-bezier(0.4, 0, 1, 1);
  --xeg-easing-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

  /* Transform Values - 애니메이션 변환 */
  --xeg-transform-scale-down: scale3d(0.95, 0.95, 1);
  --xeg-transform-scale-normal: scale3d(1, 1, 1);
  --xeg-transform-translate-up: translate3d(-50%, 10px, 0);
  --xeg-transform-translate-center: translate3d(-50%, 0, 0);
  --xeg-transform-translate-y-sm: translateY(-10px);

  /* Phase22: 제거된 legacy blur/glass 토큰 정리 (ratio guard) */
  /* (모든 --xeg-blur-*, --xeg-glass-blur-* 토큰 삭제) */

  /* ===========================================
     SEMANTIC TOKEN ALIASES
     =========================================== */

  /* Primary aliases */
  --xeg-color-primary: var(--xeg-color-primary-500);
  --xeg-color-primary-hover: var(--xeg-color-primary-600);

  /* Surface aliases */
  --xeg-color-surface: var(--xeg-color-surface-light);
  --xeg-color-background: var(--xeg-color-neutral-50);
  --xeg-surface-primary: var(--xeg-surface-base-bg);
  --xeg-surface-secondary: var(--xeg-surface-muted-bg);

  /* Text aliases */
  --xeg-color-text-primary: var(--xeg-color-neutral-900);
  --xeg-color-text-secondary: var(--xeg-color-neutral-600);
  --xeg-color-text-inverse: var(--xeg-color-neutral-50);

  /* Border aliases */
  --xeg-color-border-primary: var(--xeg-color-neutral-300);
  --xeg-color-border-secondary: var(--xeg-color-neutral-200);

  /* Transition aliases */
  --xeg-transition-fast: all var(--xeg-duration-fast) var(--xeg-easing-ease-out);
  --xeg-transition-normal: all var(--xeg-duration-normal) var(--xeg-easing-ease-out);
  --xeg-transition-slow: all var(--xeg-duration-slow) var(--xeg-easing-ease-out);

  /* Common transition patterns */
  --xeg-transition-button:
    background-color var(--xeg-duration-fast) var(--xeg-easing-ease-out),
    border-color var(--xeg-duration-fast) var(--xeg-easing-ease-out),
    box-shadow var(--xeg-duration-fast) var(--xeg-easing-ease-out),
    transform var(--xeg-duration-fast) var(--xeg-easing-ease-out);

  /* 갤러리 전용 transition */
  --xeg-transition-toolbar:
    opacity var(--xeg-duration-toolbar) var(--xeg-easing-ease-out),
    transform var(--xeg-duration-toolbar) var(--xeg-easing-ease-out), visibility 0ms;

  /* Legacy glass tokens (Phase22 호환성) - 실제 surface 토큰으로 매핑 */
  --xeg-surface-glass-bg: var(--xeg-surface-elevated-bg);
  --xeg-surface-glass-border: var(--xeg-surface-elevated-border);
  --xeg-surface-glass-shadow: var(--xeg-surface-elevated-shadow);
  --xeg-surface-glass-blur: none;

  /* ===========================================
     COMPONENT-SPECIFIC TOKENS
     =========================================== */

  /* (Phase22) surface-glass-* 토큰 제거됨: elevated / modal 토큰으로 통합 */

  /* Phase21: Modal 전용 표면 토큰 (기본값 - light 기준) */
  --xeg-surface-modal-bg: rgba(255, 255, 255, 0.95);
  --xeg-surface-modal-border: rgba(0, 0, 0, 0.12);
  --xeg-surface-modal-shadow: 0 8px 40px rgba(0, 0, 0, 0.28);
  /* Solid variant (adaptive) */
  --xeg-surface-modal-solid-bg: rgba(255,255,255,1);
  --xeg-surface-modal-solid-border: rgba(0,0,0,0.15);
  /* Dark counterparts (Phase21 v2 / Phase22 step1) */
  --xeg-surface-modal-bg-dark: rgba(0,0,0,0.90);
  --xeg-surface-modal-border-dark: rgba(255,255,255,0.22);
  --xeg-surface-modal-shadow-dark: 0 8px 44px rgba(0, 0, 0, 0.55);
  --xeg-surface-modal-solid-bg-dark: rgba(0,0,0,1);
  --xeg-surface-modal-solid-border-dark: rgba(255,255,255,0.28);
  /* Semantic modal aliases (theme-resolved) */
  --xeg-color-surface-modal-bg: var(--xeg-surface-modal-bg);
  --xeg-color-surface-modal-border: var(--xeg-surface-modal-border);
  --xeg-color-surface-modal-solid-bg: var(--xeg-surface-modal-solid-bg);
  --xeg-color-surface-modal-solid-border: var(--xeg-surface-modal-solid-border);
  /* NEW (Phase21.4→21.5): Adaptive borderline readability text-shadow token */
  --xeg-modal-text-shadow-color: rgba(0,0,0,0.4);
  --xeg-modal-scrim-color: rgba(0,0,0,0.6);
  --xeg-modal-scrim-opacity-low: 0.18;
  --xeg-modal-scrim-opacity-med: 0.28;
  --xeg-modal-scrim-opacity-high: 0.38;

  /* Gallery specific */
  --xeg-gallery-z-index: var(--xeg-z-gallery);

  /* Button specific */
  --xeg-button-height-sm: var(--xeg-spacing-2xl); /* 32px */
  --xeg-button-height-md: 40px;
  --xeg-button-height-lg: 48px;
  --xeg-button-lift: -1px; /* 호버 시 transform translateY 값 */

  /* Icon sizes */
  --xeg-icon-size-md: 20px;
  --xeg-icon-size-lg: 24px;

  /* VerticalImageItem specific */
  /* Dark mode specific variables */
  --xeg-color-bg-secondary-dark: var(--xeg-color-neutral-800);
  --xeg-color-bg-tertiary-dark: var(--xeg-color-neutral-700);
  --xeg-color-bg-error-dark: var(--xeg-color-error-900);
  --xeg-color-text-error-dark: var(--xeg-color-error-200);

  /* Hover and Focus Effects */
  --xeg-hover-lift: translateY(-2px);
  --xeg-viewport-height-constrained: 80vh;

  /* 글래스모피즘 컴포넌트별 토큰 */
  /* 툴바와 설정 모달은 통합된 surface glass 토큰 사용 */

  /* Focus ring - 통합된 포커스 시스템 */
  --xeg-focus-ring-offset: 2px;

  /* 새롭게 추가된 접근성 관련 토큰들 */
  --xeg-focus-outline: 2px solid var(--xeg-color-primary-500);
  --xeg-focus-outline-color: var(--xeg-color-primary-500);
  --xeg-focus-outline-width: 2px;
  --xeg-focus-outline-style: solid;

  /* 표면 색상 시스템 */
  --xeg-color-surface-elevated: rgba(255, 255, 255, 0.1);

  /* ===========================================
     ICON SYSTEM TOKENS
     =========================================== */

  /* Icon 기본 설정 */
  --xeg-icon-size: 1.5em; /* 24px equivalent in em */
  --xeg-icon-stroke-width: 2;
  --xeg-icon-line-height: 1; /* 아이콘 정렬을 위한 라인 높이 */
  --xeg-icon-size-md: 1.5em; /* 24px - 기본값 */
  --xeg-icon-size-lg: 2em; /* 32px */

  /* Icon 시각적 속성 */
  --xeg-icon-color: currentColor;
}

/* ===========================================
   LIGHT THEME OVERRIDES
   =========================================== */

[data-theme='light'] {
  --xeg-color-surface: var(--xeg-color-surface-light);
  --xeg-color-background: var(--xeg-color-neutral-100);
  --xeg-color-text-primary: var(--xeg-color-neutral-900);
  --xeg-color-text-secondary: var(--xeg-color-neutral-600);
  --xeg-color-border-primary: var(--xeg-color-neutral-300);
  --xeg-color-border-secondary: var(--xeg-color-neutral-200);

  /* (Phase22) surface-glass-* 오버라이드 삭제 */
  /* Modal override (light) */
  --xeg-surface-modal-bg: rgba(255, 255, 255, 0.95);
  --xeg-surface-modal-border: rgba(0, 0, 0, 0.12);
  --xeg-surface-modal-shadow: 0 8px 40px rgba(0, 0, 0, 0.28);
}

/* ===========================================
   DARK THEME OVERRIDES
   =========================================== */

[data-theme='dark'] {
  --xeg-color-surface: var(--xeg-color-surface-dark);
  --xeg-color-background: var(--xeg-color-neutral-950);
  --xeg-color-text-primary: var(--xeg-color-neutral-50);
  --xeg-color-text-secondary: var(--xeg-color-neutral-300);
  --xeg-color-border-primary: var(--xeg-color-neutral-700);
  --xeg-color-border-secondary: var(--xeg-color-neutral-800);
  --xeg-color-backdrop: rgba(0, 0, 0, 0.8);

  /* (Phase22) surface-glass-* 다크 오버라이드 삭제 */
  --xeg-surface-modal-solid-bg: rgba(0,0,0,1);
  --xeg-surface-modal-solid-border: rgba(255,255,255,0.25);
  /* Map dark semantic aliases */
  --xeg-surface-modal-bg: var(--xeg-surface-modal-bg-dark);
  --xeg-surface-modal-border: var(--xeg-surface-modal-border-dark);
  --xeg-surface-modal-shadow: var(--xeg-surface-modal-shadow-dark);
  --xeg-surface-modal-solid-bg: var(--xeg-surface-modal-solid-bg-dark);
  --xeg-surface-modal-solid-border: var(--xeg-surface-modal-solid-border-dark);
  --xeg-color-surface-modal-bg: var(--xeg-surface-modal-bg-dark);
  --xeg-color-surface-modal-border: var(--xeg-surface-modal-border-dark);
  --xeg-color-surface-modal-solid-bg: var(--xeg-surface-modal-solid-bg-dark);
  --xeg-color-surface-modal-solid-border: var(--xeg-surface-modal-solid-border-dark);

  /* Dark theme shadows (stronger) */
  --xeg-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --xeg-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
  --xeg-shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.4);
}

/* ===========================================
   SYSTEM THEME DETECTION
   =========================================== */

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --xeg-color-surface: var(--xeg-color-surface-dark);
    --xeg-color-background: var(--xeg-color-neutral-950);
    --xeg-color-text-primary: var(--xeg-color-neutral-50);
    --xeg-color-text-secondary: var(--xeg-color-neutral-300);
    --xeg-color-border-primary: var(--xeg-color-neutral-700);
    --xeg-color-border-secondary: var(--xeg-color-neutral-800);
  }
}

/* ===========================================
   ACCESSIBILITY & RESPONSIVE
   =========================================== */

@media (prefers-reduced-motion: reduce) {
  :root {
    --xeg-duration-fast: 0ms;
    --xeg-duration-normal: 0ms;
    --xeg-duration-slow: 0ms;
  }
}

@media (prefers-contrast: high) {
  :root {
    --xeg-focus-ring: 3px solid currentColor;
    --xeg-color-border-primary: var(--xeg-color-neutral-800);
  }
}

/* ===========================================
   UTILITY CLASSES
   =========================================== */

/* Layout Utilities */
.xeg-flex {
  display: flex;
}

.xeg-flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.xeg-flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.xeg-flex-col {
  display: flex;
  flex-direction: column;
}

.xeg-grid {
  display: grid;
}

.xeg-hidden {
  display: none !important;
}

.xeg-sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

.xeg-sr-only-focusable:focus {
  position: static !important;
  width: auto !important;
  height: auto !important;
  padding: inherit !important;
  margin: inherit !important;
  overflow: visible !important;
  clip: auto !important;
  white-space: inherit !important;
}

/* Positioning Utilities */
.xeg-relative {
  position: relative;
}

.xeg-absolute {
  position: absolute;
}

.xeg-fixed {
  position: fixed;
}

.xeg-sticky {
  position: sticky;
}

.xeg-full-size {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* Common States */
.xeg-disabled {
  pointer-events: none !important;
  opacity: 0.5 !important;
}

.xeg-loading {
  cursor: wait !important;
}

/* Gallery Root Container */
#xeg-gallery-root {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 999999;
  pointer-events: none;
}

/* Spacing Utilities */
.xeg-p-xs {
  padding: var(--xeg-spacing-xs);
}
.xeg-p-sm {
  padding: var(--xeg-spacing-sm);
}
.xeg-p-md {
  padding: var(--xeg-spacing-md);
}
.xeg-p-lg {
  padding: var(--xeg-spacing-lg);
}
.xeg-p-xl {
  padding: var(--xeg-spacing-xl);
}

.xeg-m-xs {
  margin: var(--xeg-spacing-xs);
}
.xeg-m-sm {
  margin: var(--xeg-spacing-sm);
}
.xeg-m-md {
  margin: var(--xeg-spacing-md);
}
.xeg-m-lg {
  margin: var(--xeg-spacing-lg);
}
.xeg-m-xl {
  margin: var(--xeg-spacing-xl);
}

/* Text Utilities */
.xeg-text-center {
  text-align: center;
}
.xeg-text-left {
  text-align: left;
}
.xeg-text-right {
  text-align: right;
}

.xeg-font-bold {
  font-weight: var(--xeg-font-weight-bold);
}
.xeg-font-medium {
  font-weight: var(--xeg-font-weight-medium);
}
.xeg-font-normal {
  font-weight: var(--xeg-font-weight-normal);
}

/* Visual Utilities */
.xeg-rounded {
  border-radius: var(--xeg-border-radius-sm);
}
.xeg-rounded-md {
  border-radius: var(--xeg-border-radius-md);
}
.xeg-rounded-lg {
  border-radius: var(--xeg-border-radius-lg);
}
.xeg-rounded-full {
  border-radius: 50%;
}

.xeg-shadow {
  box-shadow: var(--xeg-shadow-sm);
}
.xeg-shadow-md {
  box-shadow: var(--xeg-shadow-md);
}
.xeg-shadow-lg {
  box-shadow: var(--xeg-shadow-lg);
}

/* Interactive States */
.xeg-hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: var(--xeg-shadow-md);
  transition: all 0.2s ease;
}

.xeg-focus-ring {
  outline: 2px solid transparent;
  outline-offset: 2px;
  transition: outline-color var(--xeg-duration-fast) var(--xeg-easing-ease-out);
}

.xeg-focus-ring:focus {
  outline-color: var(--xeg-color-primary-500);
  outline-offset: 2px;
}

.xeg-focus-ring:focus:not(:focus-visible) {
  outline: none;
}

.xeg-focus-ring:focus-visible {
  outline-color: var(--xeg-color-primary-500);
  outline-width: 2px;
}

/* 고대비 모드 지원 */
@media (prefers-contrast: high) {
  .xeg-focus-ring:focus,
  .xeg-focus-ring:focus-visible {
    outline: 3px solid currentColor;
    outline-offset: 2px;
  }
}

/* 브라우저 호환성을 위한 OKLCH 지원 감지 */
@supports not (color: oklch(0 0 0)) {
  :root {
    /* OKLCH를 지원하지 않는 브라우저용 RGB 폴백 */
    --xeg-color-primary-500: #3b82f6;
    --xeg-color-primary-600: #2563eb;
    --xeg-color-primary-700: #1d4ed8;

    --xeg-color-neutral-100: #f5f5f5;
    --xeg-color-neutral-500: #737373;
    --xeg-color-neutral-700: #404040;
    --xeg-color-neutral-900: #171717;

    /* Warning Orange 폴백 */
    --xeg-color-warning-50: #fffbeb;
    --xeg-color-warning-100: #fef3c7;
    --xeg-color-warning-200: #fde68a;
    --xeg-color-warning-300: #fcd34d;
    --xeg-color-warning-400: #fbbf24;
    --xeg-color-warning-600: #d97706;
    --xeg-color-warning-700: #b45309;
    --xeg-color-warning-800: #92400e;
    --xeg-color-warning-900: #78350f;
    --xeg-color-warning-950: #451a03;

    /* Error Red 폴백 */
    --xeg-color-error-50: #fef2f2;
    --xeg-color-error-100: #fee2e2;
    --xeg-color-error-200: #fecaca;
    --xeg-color-error-300: #fca5a5;
    --xeg-color-error-400: #f87171;
    --xeg-color-error-600: #dc2626;
    --xeg-color-error-700: #b91c1c;
    --xeg-color-error-800: #991b1b;
    --xeg-color-error-900: #7f1d1d;
    --xeg-color-error-950: #450a0a;
  }
}

/* ===========================================
   글래스모피즘 접근성 지원
   =========================================== */

/* 투명도 감소를 선호하는 사용자 지원 */
@media (prefers-reduced-transparency: reduce) {
  :root {
    /* 글래스 제거 후 모달 대비 강화 */
    --xeg-surface-modal-bg: rgba(0, 0, 0, 0.92);
    --xeg-surface-modal-border: rgba(255, 255, 255, 0.18);
    --xeg-surface-modal-shadow: 0 8px 44px rgba(0, 0, 0, 0.55);
  }
}

/* 고대비 모드 지원 */
@media (prefers-contrast: high) {
  /* surface-glass-* 제거로 별도 처리 불필요 */
}

/* 모바일 최적화 - 블러 제거 */
/* (Phase22) 모바일 glass-blur 토큰 제거 */

/* ===========================================
   SHARED ANIMATION KEYFRAMES
   =========================================== */

/* Unified fade-scale animation for modals and overlays */
@keyframes xeg-fade-scale-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-0.625em);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes xeg-fade-scale-out {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  to {
    opacity: 0;
    transform: scale(0.97) translateY(-0.25em);
  }
}

/* Simple fade for backdrops */
@keyframes xeg-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes xeg-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Slide animation for toast notifications */
@keyframes xeg-slide-in {
  from {
    transform: translateX(100%) scale(0.95);
    opacity: 0;
  }
  to {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}

@keyframes xeg-slide-out {
  from {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
  to {
    transform: translateX(100%) scale(0.95);
    opacity: 0;
  }
}

/* Spin animation for loading states */
@keyframes xeg-spin {
  to {
    transform: rotate(360deg);
  }
}

/* Animation utility classes */
.xeg-anim-fade-scale-in {
  animation: xeg-fade-scale-in var(--xeg-duration-normal) var(--xeg-easing-easeOut);
}

.xeg-anim-fade-scale-out {
  animation: xeg-fade-scale-out var(--xeg-duration-fast) var(--xeg-easing-easeIn);
}

.xeg-anim-fade-in {
  animation: xeg-fade-in var(--xeg-duration-fast) var(--xeg-easing-easeOut);
}

.xeg-anim-fade-out {
  animation: xeg-fade-out var(--xeg-duration-fast) var(--xeg-easing-easeIn);
}

.xeg-anim-slide-in {
  animation: xeg-slide-in var(--xeg-duration-normal) var(--xeg-easing-easeOut);
}

.xeg-anim-slide-out {
  animation: xeg-slide-out var(--xeg-duration-normal) var(--xeg-easing-easeIn);
}

.xeg-anim-spin {
  animation: xeg-spin 1s linear infinite;
}

/* ===========================================
   PERFORMANCE OPTIMIZATIONS
   =========================================== */

/**
 * 최적화된 단일 glassmorphism 클래스
 * @description 모든 컴포넌트에서 공통 사용하는 통합된 스타일
 * @performance GPU 가속 및 레이어 최적화 적용
 */

.xeg-glassmorphism {
  /* Phase22: glass 토큰 제거 후 elevated 표면 사용 */
  background: var(--xeg-surface-elevated-bg);
  border: 1px solid var(--xeg-surface-elevated-border);
  border-radius: var(--xeg-radius-lg);
  box-shadow: var(--xeg-surface-elevated-shadow);
  backdrop-filter: none;
  -webkit-backdrop-filter: none;

  /* 레이아웃 및 위치 */
  isolation: isolate;
  position: relative;

  /* 성능 최적화 */
  will-change: transform, opacity, backdrop-filter;
  contain: layout style paint;

  /* GPU 가속 활성화 */
  transform: translateZ(0);

  /* 부드러운 애니메이션 */
  transition:
    background var(--xeg-duration-fast) var(--xeg-easing-ease-out),
    border-color var(--xeg-duration-fast) var(--xeg-easing-ease-out),
    box-shadow var(--xeg-duration-fast) var(--xeg-easing-ease-out);
}

/* 툴바 변형 */
.xeg-glassmorphism.toolbar-variant {
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  min-height: 3em;
  padding: 0.5em 1em;
  gap: 0.75em;

  position: fixed;
  top: 1.25em;
  left: 50%;
  transform: translateX(-50%);
  z-index: var(--xeg-z-toolbar);

  user-select: none;
}

/* 모달 변형 */
.xeg-glassmorphism.modal-variant {
  min-width: 20em;
  max-width: 30em;
  max-height: 80vh;
  overflow: hidden;
  animation: xeg-fade-scale-in var(--xeg-duration-normal) var(--xeg-easing-ease-out);
}

/* 버튼 변형 */
.xeg-glassmorphism.button-variant {
  width: 2.5em;
  height: 2.5em;
  min-width: 2.5em;
  min-height: 2.5em;
  padding: 0.5em;

  display: flex;
  align-items: center;
  justify-content: center;

  color: var(--xeg-color-text-primary);
  cursor: pointer;
  font-size: 0.875em;
  font-weight: 500;

  transition: var(--xeg-transition-fast);
}

/* 호버 상태 */
@media (hover: hover) {
  .xeg-glassmorphism.button-variant:hover:not([data-disabled='true']) {
    background: var(--xeg-color-neutral-100);
    border-color: var(--xeg-color-neutral-300);
    transform: translateY(-0.0625em);
    box-shadow: var(--xeg-shadow-md);
  }
}

/* 비활성화 상태 */
.xeg-glassmorphism.button-variant[data-disabled='true'] {
  opacity: 0.5;
  background: var(--xeg-surface-disabled);
  color: var(--xeg-color-neutral-400);
  cursor: not-allowed;
}

/* 다크 테마 지원 */
[data-theme='dark'] .xeg-glassmorphism {
  background: var(--xeg-surface-modal-bg-dark);
  border-color: var(--xeg-surface-modal-border-dark);
  box-shadow: var(--xeg-surface-modal-shadow-dark);
}

/* 접근성 지원 */
@media (prefers-contrast: high) {
  .xeg-glassmorphism {
    background: Canvas;
    border: 2px solid CanvasText;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  }
}

@media (prefers-reduced-transparency: reduce) {
  .xeg-glassmorphism {
    background: rgb(255, 255, 255);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }

  [data-theme='dark'] .xeg-glassmorphism {
    background: rgb(30, 41, 59);
  }
}

@media (prefers-reduced-motion: reduce) {
  .xeg-glassmorphism,
  .xeg-glassmorphism.button-variant {
    transition: none;
    animation: none;
  }

  .xeg-glassmorphism.button-variant:hover {
    transform: none !important;
  }
}

/* ===========================================
   PHASE22 ELEVATION ATTRIBUTE MAPPING
   data-surface="base|muted|elevated|overlay|modal"
   =========================================== */

[data-surface='base'] {
  background: var(--xeg-surface-base-bg);
  border: 1px solid var(--xeg-surface-base-border);
  box-shadow: var(--xeg-surface-base-shadow);
}

[data-surface='muted'] {
  background: var(--xeg-surface-muted-bg);
  border: 1px solid var(--xeg-surface-muted-border);
  box-shadow: var(--xeg-surface-muted-shadow);
}

[data-surface='elevated'] {
  background: var(--xeg-surface-elevated-bg);
  border: 1px solid var(--xeg-surface-elevated-border);
  box-shadow: var(--xeg-surface-elevated-shadow);
}

[data-surface='overlay'] {
  background: var(--xeg-surface-overlay-bg);
  border: 1px solid var(--xeg-surface-overlay-border);
  box-shadow: var(--xeg-surface-overlay-shadow);
}

[data-surface='modal'] {
  background: var(--xeg-surface-modal-bg);
  border: 1px solid var(--xeg-surface-modal-border);
  box-shadow: var(--xeg-surface-modal-shadow);
}

/**
 * @fileoverview Semantic Design Tokens - role-based mappings
 * @description References primitive values with semantic roles
 * @layer xeg.tokens
 */

@layer xeg.tokens {
  :where(:root, .xeg-theme-scope) {
    /* Background Colors */
    --xeg-color-bg-primary: var(--color-base-white);
    --xeg-color-bg-secondary: var(--color-gray-50);
    --xeg-color-bg-surface: var(--color-base-white);
    --xeg-color-bg-elevated: var(--color-base-white);

    /* Toolbar backgrounds */
    --xeg-bg-toolbar: var(--xeg-color-bg-surface);
    --xeg-toolbar-border: var(--xeg-color-border-primary);
    --xeg-toolbar-surface: var(--xeg-bg-toolbar);
    --xeg-toolbar-panel-surface: var(--xeg-toolbar-surface);

    /* Gallery Image Item Background Tokens */
    --xeg-color-bg-secondary-alias: var(--xeg-color-bg-secondary);

    /* Gallery backgrounds */
    --xeg-gallery-bg-light: var(--xeg-color-bg-primary);
    --xeg-gallery-bg-dark: var(--color-gray-900);
    --xeg-gallery-bg: var(--xeg-gallery-bg-light);

    /* Root background fallback for gallery shell */
    --xeg-color-background: var(--color-gray-50);

    /* Layout stability tokens */
    --xeg-aspect-default: 4 / 3;

    /* Text Colors */
    --xeg-color-text-primary: var(--color-base-black);
    --xeg-color-text-secondary: var(--color-gray-600);

    /* Border Colors */
    --xeg-color-border-default: var(--color-gray-200);
    --xeg-color-border-emphasis: var(--color-gray-500);

    /* Border Color Tokens - xeg prefix for consistency */
    --xeg-color-border-primary: var(--xeg-color-border-default);
    --xeg-color-border-hover: var(--color-gray-300);
    --xeg-color-border-strong: var(--xeg-color-border-emphasis);

    /* ─────────────────────────────────────────────────────────────────────────
     * Toolbar Color Harmony Tokens
     * ───────────────────────────────────────────────────────────────────────── */
    --xeg-toolbar-text-color: var(--xeg-color-text-primary);
    --xeg-toolbar-text-muted: var(--xeg-color-text-secondary);
    --xeg-toolbar-element-bg: color-mix(
      in oklch,
      var(--xeg-bg-toolbar) 80%,
      var(--color-base-white) 20%
    );
    --xeg-toolbar-element-bg-strong: color-mix(
      in oklch,
      var(--xeg-bg-toolbar) 65%,
      var(--color-base-white) 35%
    );
    --xeg-toolbar-element-border: color-mix(
      in oklch,
      var(--xeg-toolbar-border) 85%,
      var(--color-base-white) 15%
    );
    --xeg-toolbar-progress-track: color-mix(
      in oklch,
      var(--xeg-toolbar-element-bg) 60%,
      var(--xeg-toolbar-element-border) 40%
    );
    --xeg-toolbar-scrollbar-track: color-mix(
      in oklch,
      var(--xeg-toolbar-element-bg) 50%,
      var(--color-base-white) 50%
    );
    --xeg-toolbar-scrollbar-thumb: color-mix(
      in oklch,
      var(--xeg-toolbar-element-border) 80%,
      var(--color-base-white) 20%
    );

    /* ─────────────────────────────────────────────────────────────────────────
     * State Colors - Semantic Roles (monochrome, minimal)
     * ───────────────────────────────────────────────────────────────────────── */
    --xeg-color-success: var(--color-gray-800);
    --xeg-color-success-hover: var(--color-gray-900);
    --xeg-color-success-bg: var(--color-gray-100);
    --xeg-color-error: var(--color-gray-800);
    --xeg-color-error-hover: var(--color-gray-900);
    --xeg-color-error-bg: var(--color-gray-100);
    --xeg-color-info-bg: var(--color-gray-50);

    /* ─────────────────────────────────────────────────────────────────────────
     * Interactive Colors - Semantic Roles (monochrome accent)
     * ───────────────────────────────────────────────────────────────────────── */
    --xeg-color-primary: var(--color-gray-900);
    --xeg-color-primary-hover: var(--color-gray-700);
    --xeg-color-primary-active: var(--color-gray-800);

    /* ─────────────────────────────────────────────────────────────────────────
     * Neutral Colors for Button States
     * ───────────────────────────────────────────────────────────────────────── */
    --xeg-color-neutral-100: var(--color-gray-100);
    --xeg-color-neutral-200: var(--color-gray-200);
    --xeg-color-neutral-300: var(--color-gray-300);
    --xeg-color-neutral-400: var(--color-gray-400);
    --xeg-color-neutral-500: var(--color-gray-500);

    /* Text color aliases for components */
    --xeg-color-text-tertiary: var(--color-gray-500);
    --xeg-color-text-inverse: var(--color-base-white);

    /* Component Sizing (em: relative to font-size) */
    --xeg-size-button-md: 2.5em;

    /* Focus indicator tokens */
    --xeg-focus-indicator-color: var(--xeg-color-border-primary);

    /* Typography Tokens - component usage */
    --xeg-font-size-sm: var(--font-size-sm);
    --xeg-font-size-base: var(--font-size-base);
    --xeg-font-size-md: var(--font-size-md);
    --xeg-font-size-lg: var(--font-size-lg);
    --xeg-font-size-xl: var(--font-size-xl);
    --xeg-font-size-2xl: var(--font-size-2xl);

    --xeg-font-weight-normal: var(--font-weight-normal);
    --xeg-font-weight-medium: var(--font-weight-medium);
    --xeg-font-weight-semibold: var(--font-weight-semibold);

    --xeg-line-height-tight: var(--line-height-tight);
    --xeg-line-height-snug: var(--line-height-snug);
    --xeg-line-height-relaxed: var(--line-height-relaxed);

    /* Animation Timing - semantic roles */
    --xeg-duration-fast: var(--duration-fast);
    --xeg-duration-normal: var(--duration-normal);
    --xeg-duration-toolbar: var(--duration-normal);

    /* Surface Tokens - flat panel style */
    --xeg-surface-bg: var(--xeg-color-bg-surface);
    --xeg-surface-border: var(--xeg-color-border-default);
    --xeg-surface-bg-hover: var(--xeg-color-bg-secondary);

    /* Elevated surfaces & skeletons */
    --xeg-color-surface-elevated: var(--xeg-color-bg-elevated);
    --xeg-skeleton-bg: var(--xeg-color-bg-secondary);

    /* Border emphasis aliases */
    --xeg-border-emphasis: var(--xeg-color-border-emphasis);

    /* Z-Index Management */
    --xeg-z-gallery: 2147483600;
    --xeg-z-toolbar-hover-zone: 2147483618;
    --xeg-z-toolbar: 2147483620;
    --xeg-z-toolbar-panel: 2147483622;
    --xeg-z-toolbar-panel-active: 2147483624;

    /* Animation Easing - Material Design */
    --xeg-ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
    --xeg-ease-decelerate: cubic-bezier(0, 0, 0.2, 1);
    --xeg-ease-accelerate: cubic-bezier(0.4, 0, 1, 1);
    --xeg-easing-ease-out: cubic-bezier(0.4, 0, 0.2, 1);
    --xeg-easing-linear: linear;

    /* Line Height - semantic alias */
    --xeg-line-height-normal: var(--line-height-normal, 1.5);

    /* Interaction State Tokens */
    --xeg-button-lift: -0.0625rem;
    --xeg-opacity-disabled: 0.5;
    --xeg-hover-lift: translateY(-0.125rem);

    /* Spacing Tokens - component usage */
    --xeg-spacing-none: var(--space-none);
    --xeg-spacing-xl: var(--space-xl);

    /* Border Radius - extended scale */
    --xeg-radius-sm: var(--radius-sm);
    --xeg-radius-md: var(--radius-md);
    --xeg-radius-lg: var(--radius-lg);
    --xeg-radius-2xl: var(--radius-2xl);
    --xeg-radius-full: var(--radius-full);

    /* Scrollbar Tokens */
    --xeg-scrollbar-thumb-color: var(--color-gray-400);
    --xeg-scrollbar-thumb-hover-color: var(--color-gray-500);
    --xeg-scrollbar-track-color: var(--color-gray-200);
  }

  /* Theme Support - dark/light mode */
  :where(:root, .xeg-theme-scope)[data-theme="light"] {
    --xeg-color-bg-primary: var(--color-base-white);
    --xeg-color-text-primary: var(--color-base-black);
    --xeg-color-text-secondary: var(--color-gray-600);
    --xeg-gallery-bg: var(--xeg-gallery-bg-light);
  }

  /* Dark mode - explicit attribute */
  :where(:root, .xeg-theme-scope)[data-theme="dark"] {
    --xeg-color-bg-primary: var(--color-gray-900);
    --xeg-color-bg-surface: var(--color-gray-900);
    --xeg-color-bg-elevated: var(--color-gray-700);
    --xeg-color-text-primary: var(--color-base-white);
    --xeg-color-text-secondary: var(--color-gray-400);
    --xeg-bg-toolbar: var(--color-gray-800);
    --xeg-color-border-primary: var(--color-gray-600);
    --xeg-toolbar-border: var(--color-gray-600);
    --xeg-color-bg-secondary: var(--color-gray-800);
    --xeg-gallery-bg: var(--xeg-gallery-bg-dark);
    --xeg-toolbar-text-color: var(--xeg-color-text-primary);
    --xeg-toolbar-text-muted: var(--color-gray-300);
    --xeg-toolbar-element-bg: color-mix(
      in oklch,
      var(--xeg-bg-toolbar) 85%,
      var(--color-base-black) 15%
    );
    --xeg-toolbar-element-bg-strong: color-mix(
      in oklch,
      var(--xeg-bg-toolbar) 70%,
      var(--color-base-black) 30%
    );
    --xeg-toolbar-element-border: color-mix(
      in oklch,
      var(--xeg-toolbar-border) 75%,
      var(--color-base-black) 25%
    );
    --xeg-toolbar-progress-track: color-mix(
      in oklch,
      var(--xeg-toolbar-border) 65%,
      var(--xeg-bg-toolbar) 35%
    );
    --xeg-toolbar-scrollbar-track: color-mix(
      in oklch,
      var(--xeg-toolbar-element-bg) 80%,
      var(--color-base-black) 20%
    );
    --xeg-toolbar-scrollbar-thumb: color-mix(
      in oklch,
      var(--xeg-toolbar-element-border) 85%,
      var(--color-base-black) 15%
    );
    --xeg-color-background: var(--color-gray-900);
    --xeg-color-primary: var(--color-gray-100);
    --xeg-color-primary-hover: var(--color-gray-200);
    --xeg-color-primary-active: var(--color-gray-300);
    --xeg-surface-bg: var(--color-gray-900);
    --xeg-surface-border: var(--color-gray-600);
    --xeg-surface-bg-hover: var(--color-gray-800);
  }

  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    :where(:root, .xeg-theme-scope) {
      --xeg-duration-fast: 0ms;
      --xeg-transition-surface-fast: none;
      --xeg-transition-elevation-normal: none;
      --xeg-transition-elevation-fast: none;
      --xeg-transition-interaction-fast: none;
      --xeg-transition-width-normal: none;
    }
  }

  /* ─────────────────────────────────────────────────────────────────────────────
   * Component Scope Tokens
   * ───────────────────────────────────────────────────────────────────────────── */
  :where(:root, .xeg-theme-scope) {
    /* Settings Component Tokens */
    --xeg-settings-gap: var(--space-md);
    --xeg-settings-padding: var(--space-md);
    --xeg-settings-control-gap: var(--space-sm);
    --xeg-settings-label-font-size: var(--font-size-sm);
    --xeg-settings-label-font-weight: var(--font-weight-bold);
    --xeg-settings-select-font-size: var(--font-size-sm);
    --xeg-settings-select-padding: var(--space-sm) var(--space-md);
  }
}

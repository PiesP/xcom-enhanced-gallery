# test/archive/unit/architecture - ì•„í‚¤í…ì²˜ í…ŒìŠ¤íŠ¸ ì•„ì¹´ì´ë¸Œ

> ğŸ“¦ **ìƒíƒœ**: ì•„ì¹´ì´ë¸Œë¨ | CI/ë¡œì»¬ í…ŒìŠ¤íŠ¸ì—ì„œ ì œì™¸ | ì°¸ê³ ìš© ë³´ê´€

## ê°œìš”

ì´ ë””ë ‰í† ë¦¬ëŠ” ê³¼ê±° í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ êµ¬ì¡°ì— ë§ì¶° ì‘ì„±ëœ í…ŒìŠ¤íŠ¸ë“¤ì„ ë³´ê´€í•©ë‹ˆë‹¤.

## ë³´ê´€ íŒŒì¼

### domcache-initialization.test.ts

- **ìƒíƒœ**: ğŸ—ƒï¸ ì•„ì¹´ì´ë¸Œë¨ (Phase 177)
- **ì´ìœ **: êµ¬ì²´ì  êµ¬í˜„(DOMCache í´ë˜ìŠ¤)ì— ì˜ì¡´í•˜ëŠ” ì•„í‚¤í…ì²˜ í…ŒìŠ¤íŠ¸
- **ë¬¸ì œì **:
  - ì•„í‚¤í…ì²˜ ê²€ì¦ì´ë¼ê¸°ë³´ë‹¤ëŠ” êµ¬í˜„ ê²€ì¦ì— ê°€ê¹Œì›€
  - í˜„ì¬ í”„ë¡œì íŠ¸ ì •ì±…(3ê³„ì¸µ êµ¬ì¡°: Features â†’ Shared â†’ External)ê³¼ ë¬´ê´€
  - ë¶€íŠ¸ìŠ¤íŠ¸ë© ë ˆì´ì–´ì˜ ë‚´ë¶€ êµ¬í˜„ì— ì˜ì¡´

### dependency-rules.test.ts

- **ìƒíƒœ**: ğŸ—ƒï¸ ì•„ì¹´ì´ë¸Œë¨ (Phase 177)
- **ì´ìœ **: êµ¬ì‹ 4-5ê³„ì¸µ ì•„í‚¤í…ì²˜ ê¸°ì¤€ (core, infrastructure ë¯¸ì‚¬ìš©)
- **ë¬¸ì œì **:
  - í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” 3ê³„ì¸µ êµ¬ì¡°(Features â†’ Shared â†’ External) ì‚¬ìš©
  - ì˜ì¡´ì„± ê²€ì¦ì€ `dependency-cruiser`ë¡œ ëŒ€ì²´ë¨ (`npm run deps:all`)
  - ë°°ëŸ´ export ê²€ì¦ì€ ìœ íš¨í•˜ë‚˜, ê³„ì¸µ ê²€ì¦ì€ êµ¬ì‹

### vendor-dependency-rules.design.test.ts

- **ìƒíƒœ**: ğŸ—ƒï¸ ì„¤ê³„ ë¬¸ì„œ (Phase 177)
- **ì´ìœ **: ë¯¸ë˜ vendor getter ê°•ì œ ì •ì±… ì„¤ê³„
- **ìš©ë„**:
  - í˜„ì¬ í”„ë¡œì íŠ¸ vendor import íŒ¨í„´ ë¶„ì„ ê¸°ì¤€
  - í–¥í›„ ë¦¬íŒ©í† ë§ ì‹œ ì°¸ê³  ìë£Œ
  - ê¸°ì¡´ `vendor-getter.strict.scan.red.test.ts`ì™€ í†µí•© ê°€ëŠ¥

## ëŒ€ì²´ ë°©ì•ˆ

### ì•„í‚¤í…ì²˜ ê²€ì¦

âœ… **í˜„ì¬ ê¶Œì¥ ë°©ì‹**:

1. **Dependency-Cruiser** (ì˜ì¡´ì„± ê²½ê³„)
   - `npm run deps:all`: ìˆœí™˜ ì˜ì¡´, ê³„ì¸µ ìœ„ë°˜ ìë™ ê²€ì¶œ
   - CI: `.github/workflows/ci.yml`ì— í¬í•¨

2. **Lint ì •ì±… í…ŒìŠ¤íŠ¸** (ì½”ë”© ê·œì¹™)
   - `test/unit/lint/vendor-getter.strict.scan.red.test.ts`
   - PC-only ì´ë²¤íŠ¸, CSS í† í° ì‚¬ìš© ê°•ì œ

3. **Guards í…ŒìŠ¤íŠ¸** (í”„ë¡œì íŠ¸ ê±´ê°•ë„)
   - `test/guards/project-health.test.ts`
   - ë¹Œë“œ í¬ê¸°, ì˜ì¡´ì„± ìœ„ë°˜ íšŒê·€ ë°©ì§€

### ë¶€íŠ¸ìŠ¤íŠ¸ë©/ì´ˆê¸°í™” ê²€ì¦

âœ… **E2E + í†µí•© í…ŒìŠ¤íŠ¸**:

- `test/integration/` ë˜ëŠ” `test/browser/`ì—ì„œ ì‹¤ì œ ë§ˆìš´íŒ… ê²€ì¦
- ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‹œì ì˜ ì‹ í˜¸/ìƒíƒœ ì´ˆê¸°í™” ê²€ì¦

## ë³µì› ë°©ë²•

ì•„ì¹´ì´ë¸Œ íŒŒì¼ì„ ë‹¤ì‹œ í™œìš©í•˜ë ¤ë©´:

```bash
# 1. íŒŒì¼ì„ ì›ë˜ ìœ„ì¹˜ë¡œ ë³µì‚¬
cp test/archive/unit/architecture/dependency-rules.test.ts \
   test/unit/architecture/dependency-rules.test.ts

# 2. vitest.config.tsì—ì„œ exclude ì œê±° (í•„ìš”ì‹œ)

# 3. íŒŒì¼ ë‚´ìš© ê²€í†  í›„ í˜„ëŒ€ì  íŒ¨í„´ìœ¼ë¡œ ë¦¬íŒ©í† ë§
```

## ì°¸ê³ 

- **TESTING_STRATEGY.md**: ì•„ì¹´ì´ë¸Œ ì •ì±…, í…ŒìŠ¤íŠ¸ ë¶„ë¥˜
- **TDD_REFACTORING_PLAN.md**: Phase 177 ì•„í‚¤í…ì²˜ ì •ë¦¬
- **ARCHITECTURE.md**: í˜„ì¬ 3ê³„ì¸µ êµ¬ì¡° (Features â†’ Shared â†’ External)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-10-25 (Phase 177)
